/*! BCGSAdobeAnalyticsPlugin - v0.1.1 - 2016-06-09
* Copyright (c) 2016 Brightcove Consulting; Licensed  */
function Visitor(a,b){if(!a)throw"Visitor requires Adobe Marketing Cloud Org ID";var c=this;c.version="1.5.1";var d=window,e=d.Visitor;d.s_c_in||(d.s_c_il=[],d.s_c_in=0),c._c="Visitor",c._il=d.s_c_il,c._in=d.s_c_in,c._il[c._in]=c,d.s_c_in++;var f=d.document,g=e.Na;g||(g=null);var h=e.Oa;h||(h=void 0);var i=e.la;i||(i=!0);var j=e.Ma;j||(j=!1),c.T=function(a){var c,d,b=0;if(a)for(c=0;c<a.length;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b&=b;return b},c.q=function(a){var e,b="0123456789",c="",d="",f=8,g=10,h=10;if(1==a){for(b+="ABCDEF",a=0;16>a;a++)e=Math.floor(Math.random()*f),c+=b.substring(e,e+1),e=Math.floor(Math.random()*f),d+=b.substring(e,e+1),f=16;return c+"-"+d}for(a=0;19>a;a++)e=Math.floor(Math.random()*g),c+=b.substring(e,e+1),0==a&&9==e?g=3:(1==a||2==a)&&10!=g&&2>e?g=10:a>2&&(g=10),e=Math.floor(Math.random()*h),d+=b.substring(e,e+1),0==a&&9==e?h=3:(1==a||2==a)&&10!=h&&2>e?h=10:a>2&&(h=10);return c+d},c.oa=function(){var a;if(!a&&d.location&&(a=d.location.hostname),a)if(/^[0-9.]+$/.test(a))a="";else{var b=a.split("."),c=b.length-1,e=c-1;if(c>1&&2>=b[c].length&&(2==b[c-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+b[c]+","))&&e--,e>0)for(a="";c>=e;)a=b[c]+(a?".":"")+a,c--}return a},c.cookieRead=function(a){var a=encodeURIComponent(a),b=(";"+f.cookie).split(" ").join(";"),c=b.indexOf(";"+a+"="),d=0>c?c:b.indexOf(";",c+1);return 0>c?"":decodeURIComponent(b.substring(c+2+a.length,0>d?b.length:d))},c.cookieWrite=function(a,b,d){var g,e=c.cookieLifetime,b=""+b,e=e?(""+e).toUpperCase():"";return d&&"SESSION"!=e&&"NONE"!=e?(g=""!=b?parseInt(e?e:0,10):-60)?(d=new Date,d.setTime(d.getTime()+1e3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))):d=0,a&&"NONE"!=e?(f.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+"; path=/;"+(d?" expires="+d.toGMTString()+";":"")+(c.cookieDomain?" domain="+c.cookieDomain+";":""),c.cookieRead(a)==b):0},c.g=g,c.P=function(a,b){try{"function"==typeof a?a.apply(d,b):a[1].apply(a[0],b)}catch(c){}},c.sa=function(a,b){b&&(c.g==g&&(c.g={}),c.g[a]==h&&(c.g[a]=[]),c.g[a].push(b))},c.o=function(a,b){if(c.g!=g){var d=c.g[a];if(d)for(;0<d.length;)c.P(d.shift(),b)}},c.j=g,c.qa=function(a,b,d){var i,e=0,h=0;if(b&&f){for(i=0;!e&&2>i;){try{e=(e=f.getElementsByTagName(i>0?"HEAD":"head"))&&0<e.length?e[0]:0}catch(j){e=0}i++}if(!e)try{f.body&&(e=f.body)}catch(k){e=0}if(e)for(i=0;!h&&2>i;){try{h=f.createElement(i>0?"SCRIPT":"script")}catch(l){h=0}i++}}b&&e&&h?(h.type="text/javascript",h.setAttribute("async","async"),h.src=b,e.firstChild?e.insertBefore(h,e.firstChild):e.appendChild(h),d&&(c.j==g&&(c.j={}),c.j[a]=setTimeout(d,c.loadTimeout))):d&&d()},c.ma=function(a){c.j!=g&&c.j[a]&&(clearTimeout(c.j[a]),c.j[a]=0)},c.U=j,c.V=j,c.isAllowed=function(){return!c.U&&(c.U=i,c.cookieRead(c.cookieName)||c.cookieWrite(c.cookieName,"T",1))&&(c.V=i),c.V},c.a=g,c.e=g;var k=e.ab;k||(k="MC");var l=e.fb;l||(l="MCMID");var m=e.bb;m||(m="MCCIDH");var n=e.eb;n||(n="MCSYNCS");var o=e.cb;o||(o="MCIDTS");var p=e.Za;p||(p="A");var q=e.Wa;q||(q="MCAID");var r=e.$a;r||(r="AAM");var s=e.Ya;s||(s="MCAAMLH");var t=e.Xa;t||(t="MCAAMB");var u=e.gb;u||(u="NONE"),c.B=0,c.S=function(){if(!c.B){var a=c.version;c.audienceManagerServer&&(a+="|"+c.audienceManagerServer),c.audienceManagerServerSecure&&(a+="|"+c.audienceManagerServerSecure),c.B=c.T(a)}return c.B},c.W=j,c.f=function(){if(!c.W){c.W=i;var e,f,h,a=c.S(),b=j,d=c.cookieRead(c.cookieName),k=new Date;if(c.a==g&&(c.a={}),d&&"T"!=d)for(d=d.split("|"),d[0].match(/^[\-0-9]+$/)&&(parseInt(d[0],10)!=a&&(b=i),d.shift()),1==d.length%2&&d.pop(),a=0;a<d.length;a+=2)e=d[a].split("-"),f=e[0],h=d[a+1],e=1<e.length?parseInt(e[1],10):0,b&&(f==m&&(h=""),e>0&&(e=k.getTime()/1e3-60)),f&&h&&(c.c(f,h,1),e>0&&(c.a["expire"+f]=e,k.getTime()>=1e3*e&&(c.e||(c.e={}),c.e[f]=i)));!c.b(q)&&(d=c.cookieRead("s_vi"))&&(d=d.split("|"),1<d.length&&0<=d[0].indexOf("v1")&&(h=d[1],a=h.indexOf("["),a>=0&&(h=h.substring(0,a)),h&&h.match(/^[0-9a-fA-F\-]+$/)&&c.c(q,h)))}},c.ua=function(){var b,d,a=c.S();for(b in c.a)!Object.prototype[b]&&c.a[b]&&"expire"!=b.substring(0,6)&&(d=c.a[b],a+=(a?"|":"")+b+(c.a["expire"+b]?"-"+c.a["expire"+b]:"")+"|"+d);c.cookieWrite(c.cookieName,a,1)},c.b=function(a,b){return c.a==g||!b&&c.e&&c.e[a]?g:c.a[a]},c.c=function(a,b,d){c.a==g&&(c.a={}),c.a[a]=b,d||c.ua()},c.pa=function(a,b){var d=c.b(a,b);return d?d.split("*"):g},c.ta=function(a,b,d){c.c(a,b?b.join("*"):"",d)},c.Ta=function(a,b){var d=c.pa(a,b);if(d){var f,e={};for(f=0;f<d.length;f+=2)e[d[f]]=d[f+1];return e}return g},c.Va=function(a,b,d){var f,e=g;if(b)for(f in e=[],b)Object.prototype[f]||(e.push(f),e.push(b[f]));c.ta(a,e,d)},c.l=function(a,b){var d=new Date;d.setTime(d.getTime()+1e3*b),c.a==g&&(c.a={}),c.a["expire"+a]=Math.floor(d.getTime()/1e3),0>b?(c.e||(c.e={}),c.e[a]=i):c.e&&(c.e[a]=j)},c.R=function(a){return a&&("object"==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&(a=a.toUpperCase(),"NOTARGET"==a&&(a=u)),!a||a!=u&&!a.match(/^[0-9a-fA-F\-]+$/))&&(a=""),a},c.i=function(a,b){if(c.ma(a),c.h!=g&&(c.h[a]=j),a==k){var d=c.b(l);if(!d){if(d="object"==typeof b&&b.mid?b.mid:c.R(b),!d){if(c.u)return void c.getAnalyticsVisitorID(g,j,i);d=c.q()}c.c(l,d)}d&&d!=u||(d=""),"object"==typeof b&&((b.d_region||b.dcs_region||b.d_blob||b.blob)&&c.i(r,b),c.u&&b.mid&&c.i(p,{id:b.id})),c.o(l,[d])}if(a==r&&"object"==typeof b){d=604800,b.id_sync_ttl!=h&&b.id_sync_ttl&&(d=parseInt(b.id_sync_ttl,10));var e=c.b(s);e||((e=b.d_region)||(e=b.dcs_region),e&&(c.l(s,d),c.c(s,e))),e||(e=""),c.o(s,[e]),e=c.b(t),(b.d_blob||b.blob)&&((e=b.d_blob)||(e=b.blob),c.l(t,d),c.c(t,e)),e||(e=""),c.o(t,[e]),!b.error_msg&&c.s&&c.c(m,c.s),c.idSyncDisableSyncs?x.ca=i:(x.ca=j,x.Ka({H:b.ibs,d:b.subdomain}))}a==p&&(d=c.b(q),d||((d=c.R(b))?c.l(t,-1):d=u,c.c(q,d)),d&&d!=u||(d=""),c.o(q,[d]))},c.h=g,c.r=function(a,b,d,e){var h,f="";return c.isAllowed()&&(c.f(),f=c.b(a),!f&&(a==l?h=k:a==s||a==t?h=r:a==q&&(h=p),h))?(!b||c.h!=g&&c.h[h]||(c.h==g&&(c.h={}),c.h[h]=i,c.qa(h,b,function(){if(!c.b(a)){var b="";a==l?b=c.q():h==r&&(b={error_msg:"timeout"}),c.i(h,b)}})),c.sa(a,d),b||c.i(h,{id:u}),""):(a!=l&&a!=q||f!=u||(f="",e=i),d&&e&&c.P(d,[f]),f)},c._setMarketingCloudFields=function(a){c.f(),c.i(k,a)},c.setMarketingCloudVisitorID=function(a){c._setMarketingCloudFields(a)},c.u=j,c.getMarketingCloudVisitorID=function(a,b){if(c.isAllowed()){c.marketingCloudServer&&0>c.marketingCloudServer.indexOf(".demdex.net")&&(c.u=i);var d=c.A("_setMarketingCloudFields");return c.r(l,d,a,b)}return""},c.ra=function(){c.getAudienceManagerBlob()},e.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},c.p={},c.Q=j,c.s="",c.setCustomerIDs=function(a){if(c.isAllowed()&&a){c.f();var b,d;for(b in a)if(!Object.prototype[b]&&(d=a[b]))if("object"==typeof d){var e={};d.id&&(e.id=d.id),d.authState!=h&&(e.authState=d.authState),c.p[b]=e}else c.p[b]={id:d};var a=c.getCustomerIDs(),e=c.b(m),f="";e||(e=0);for(b in a)Object.prototype[b]||(d=a[b],f+=(f?"|":"")+b+"|"+(d.id?d.id:"")+(d.authState?d.authState:""));c.s=c.T(f),c.s!=e&&(c.Q=i,c.ra())}},c.getCustomerIDs=function(){c.f();var b,d,a={};for(b in c.p)Object.prototype[b]||(d=c.p[b],a[b]||(a[b]={}),d.id&&(a[b].id=d.id),a[b].authState=d.authState!=h?d.authState:e.AuthState.UNKNOWN);return a},c._setAnalyticsFields=function(a){c.f(),c.i(p,a)},c.setAnalyticsVisitorID=function(a){c._setAnalyticsFields(a)},c.getAnalyticsVisitorID=function(a,b,d){if(c.isAllowed()){var e="";if(d||(e=c.getMarketingCloudVisitorID(function(){c.getAnalyticsVisitorID(a,i)})),e||d){var f=d?c.marketingCloudServer:c.trackingServer,g="";return c.loadSSL&&(d?c.marketingCloudServerSecure&&(f=c.marketingCloudServerSecure):c.trackingServerSecure&&(f=c.trackingServerSecure)),f&&(g="http"+(c.loadSSL?"s":"")+"://"+f+"/id?callback=s_c_il%5B"+c._in+"%5D._set"+(d?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(c.marketingCloudOrgID)+(e?"&mid="+e:"")),c.r(d?l:q,g,a,b)}}return""},c._setAudienceManagerFields=function(a){c.f(),c.i(r,a)},c.A=function(a){var b=c.audienceManagerServer,d="",e=c.b(l),f=c.b(t,i),g=c.b(q),g=g&&g!=u?"&d_cid_ic=AVID%01"+encodeURIComponent(g):"";if(c.loadSSL&&c.audienceManagerServerSecure&&(b=c.audienceManagerServerSecure),b){var h,j,d=c.getCustomerIDs();if(d)for(h in d)Object.prototype[h]||(j=d[h],g+="&d_cid_ic="+encodeURIComponent(h)+"%01"+encodeURIComponent(j.id?j.id:"")+(j.authState?"%01"+j.authState:""));a||(a="_setAudienceManagerFields"),d="http"+(c.loadSSL?"s":"")+"://"+b+"/id?d_rtbd=json&d_ver=2"+(!e&&c.u?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(c.marketingCloudOrgID)+"&d_nsid="+(c.idSyncContainerID||0)+(e?"&d_mid="+e:"")+(f?"&d_blob="+encodeURIComponent(f):"")+g+"&d_cb=s_c_il%5B"+c._in+"%5D."+a}return d},c.getAudienceManagerLocationHint=function(a,b){if(c.isAllowed()&&c.getMarketingCloudVisitorID(function(){c.getAudienceManagerLocationHint(a,i)})){var d=c.b(q);if(d||(d=c.getAnalyticsVisitorID(function(){c.getAudienceManagerLocationHint(a,i)})),d)return d=c.A(),c.r(s,d,a,b)}return""},c.getAudienceManagerBlob=function(a,b){if(c.isAllowed()&&c.getMarketingCloudVisitorID(function(){c.getAudienceManagerBlob(a,i)})){var d=c.b(q);if(d||(d=c.getAnalyticsVisitorID(function(){c.getAudienceManagerBlob(a,i)})),d)return d=c.A(),c.Q&&c.l(t,-1),c.r(t,d,a,b)}return""},c.m="",c.t={},c.C="",c.D={},c.getSupplementalDataID=function(a,b){!c.m&&!b&&(c.m=c.q(1));var d=c.m;return c.C&&!c.D[a]?(d=c.C,c.D[a]=i):d&&(c.t[a]&&(c.C=c.m,c.D=c.t,c.m=d=b?"":c.q(1),c.t={}),d&&(c.t[a]=i)),d};var v={k:!!d.postMessage,ja:1,O:864e5};c.Pa=v,c.Y={postMessage:function(a,b,c){var d=1;b&&(v.k?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},K:function(a,b){var c;try{v.k&&(a&&(c=function(c){return"string"==typeof b&&c.origin!==b||"[object Function]"===Object.prototype.toString.call(b)&&!1===b(c.origin)?!1:void a(c)}),window.addEventListener?window[a?"addEventListener":"removeEventListener"]("message",c,!1):window[a?"attachEvent":"detachEvent"]("onmessage",c))}catch(d){}}};var w={Z:function(){return f.addEventListener?function(a,b,c){a.addEventListener(b,function(a){"function"==typeof c&&c(a)},j)}:f.attachEvent?function(a,b,c){a.attachEvent("on"+b,function(a){"function"==typeof c&&c(a)})}:void 0}(),map:function(a,b){if(Array.prototype.map)return a.map(b);if(void 0===a||a===g)throw new TypeError;var c=Object(a),d=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var e=Array(d),f=0;d>f;f++)f in c&&(e[f]=b.call(b,c[f],f,c));return e},Aa:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)}};c.Ua=w;var x={ka:3e4,N:649,ga:j,id:g,I:g,ba:function(a){return"string"==typeof a?(a=a.split("/"),a[0]+"//"+a[2]):void 0},d:g,url:g,Ca:function(){var a="http://fast.",b="?d_nsid="+c.idSyncContainerID+"#"+encodeURIComponent(f.location.href);return this.d||(this.d="nosubdomainreturned"),c.loadSSL&&(a=c.idSyncSSLUseAkamai?"https://fast.":"https://"),a=a+this.d+".demdex.net/dest5.html"+b,this.I=this.ba(a),this.id="destination_publishing_iframe_"+this.d+"_"+c.idSyncContainerID,a},wa:function(){var a="?d_nsid="+c.idSyncContainerID+"#"+encodeURIComponent(f.location.href);"string"==typeof c.z&&c.z.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+c.idSyncContainerID,this.I=this.ba(c.z),this.url=c.z+a)},ca:g,G:j,M:j,v:g,hb:g,Ia:g,ib:g,L:j,w:[],Ga:[],Ha:[],da:v.k?15:100,J:[],Ea:[],aa:i,ea:j,$:function(){function a(){d=document.createElement("iframe"),d.id=c.id,d.style.cssText="display: none; width: 0; height: 0;",d.src=c.url,c.Ia=i,b(),document.body.appendChild(d)}function b(){w.Z(d,"load",function(){d.className="aamIframeLoaded",c.v=i,c.n()})}this.M=i;var c=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?(this.id+="_2",a()):"aamIframeLoaded"!==d.className?b():(this.v=i,this.n()):a(),this.Da=d},n:function(a){var b=this;a===Object(a)&&this.J.push(a),(this.ea||!v.k||this.v)&&this.J.length&&(this.Ja(this.J.shift()),this.n()),!c.idSyncDisableSyncs&&this.v&&this.w.length&&!this.L&&(this.ga||(this.ga=i,setTimeout(function(){b.da=v.k?15:150},this.ka)),this.L=i,this.fa())},Ja:function(a){var c,d,e,f,g,b=encodeURIComponent;if((c=a.H)&&c instanceof Array&&(d=c.length))for(e=0;d>e;e++)f=c[e],g=[b("ibs"),b(f.id||""),b(f.tag||""),w.Aa(f.url||[],","),b(f.ha||""),"","",f.Ba?"true":"false"],this.aa?this.F(g.join("|")):f.Ba&&this.xa(f,g.join("|"));this.Ea.push(a)},xa:function(a,b){c.f();var d=c.b(n),e=j,f=j,g=Math.ceil((new Date).getTime()/v.O);d?(d=d.split("*"),f=this.La(d,a.id,g),e=f.ya,f=f.za,e&&f||(this.F(b),d.push(a.id+"-"+(g+Math.ceil(a.ha/60/24))),this.Fa(d),c.c(n,d.join("*")))):(this.F(b),c.c(n,a.id+"-"+(g+Math.ceil(a.ha/60/24))))},La:function(a,b,c){var f,g,h,d=j,e=j;for(g=0;g<a.length;g++)f=a[g],h=parseInt(f.split("-")[1],10),f.match("^"+b+"-")?(d=i,h>c?e=i:(a.splice(g,1),g--)):c>=h&&(a.splice(g,1),g--);return{ya:d,za:e}},Fa:function(a){if(a.join("*").length>this.N)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.N;)a.shift()},F:function(a){var b=encodeURIComponent;this.w.push(b(c.Ra?"---destpub-debug---":"---destpub---")+a)},fa:function(){var b,a=this;this.w.length?(b=this.w.shift(),c.Y.postMessage(b,this.url,this.Da.contentWindow),this.Ga.push(b),setTimeout(function(){a.fa()},this.da)):this.L=j},K:function(a){var b=/^---destpub-to-parent---/;"string"==typeof a&&b.test(a)&&(b=a.replace(b,"").split("|"),"canSetThirdPartyCookies"===b[0]&&(this.aa="true"===b[1]?i:j,this.ea=i,this.n()),this.Ha.push(a))},Ka:function(a){this.url===g&&(this.d="string"==typeof c.X&&c.X.length?c.X:a.d||"",this.url=this.Ca()),a.H instanceof Array&&a.H.length&&(this.G=i),(this.G||c.na)&&this.d&&"nosubdomainreturned"!==this.d&&!this.M&&(e.ia||"complete"===f.readyState||"loaded"===f.readyState)&&this.$(),"function"==typeof c.idSyncIDCallResult?c.idSyncIDCallResult(a):this.n(a),"function"==typeof c.idSyncAfterIDCallResult&&c.idSyncAfterIDCallResult(a)},va:function(a,b){return c.Sa||!a||b-a>v.ja}};if(c.Qa=x,0>a.indexOf("@")&&(a+="@AdobeOrg"),c.marketingCloudOrgID=a,c.cookieName="AMCV_"+a,c.cookieDomain=c.oa(),c.cookieDomain==d.location.hostname&&(c.cookieDomain=""),c.loadSSL=0<=d.location.protocol.toLowerCase().indexOf("https"),c.loadTimeout=500,c.marketingCloudServer=c.audienceManagerServer="dpm.demdex.net",b&&"object"==typeof b){for(var y in b)!Object.prototype[y]&&(c[y]=b[y]);c.idSyncContainerID=c.idSyncContainerID||0,c.f(),y=c.b(o);var z=Math.ceil((new Date).getTime()/v.O);!c.idSyncDisableSyncs&&x.va(y,z)&&(c.l(t,-1),c.c(o,z)),c.getMarketingCloudVisitorID(),c.getAudienceManagerLocationHint(),c.getAudienceManagerBlob()}if(!c.idSyncDisableSyncs){x.wa(),w.Z(window,"load",function(){var a=x;e.ia=i,(a.G||c.na)&&a.d&&"nosubdomainreturned"!==a.d&&a.url&&!a.M&&a.$()});try{c.Y.K(function(a){x.K(a.data)},x.I)}catch(A){}}}function AppMeasurement(){var a=this;a.version="1.5.1";var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0),a._il=b.s_c_il,a._in=b.s_c_in,a._il[a._in]=a,b.s_c_in++,a._c="s_c";var c=b.AppMeasurement.zb;c||(c=null);var e,f,d=b;try{for(e=d.parent,f=d.location;e&&e.location&&f&&""+e.location!=""+f&&d.location&&""+e.location!=""+d.location&&e.location.host==f.host;)d=e,e=d.parent}catch(g){}a.ob=function(a){try{console.log(a)}catch(b){}},a.za=function(a){return""+parseInt(a)==""+a},a.replace=function(a,b,c){return!a||0>a.indexOf(b)?a:a.split(b).join(c)},a.escape=function(b){var c,d;if(!b)return b;for(b=encodeURIComponent(b),c=0;7>c;c++)d="+~!*()'".substring(c,c+1),0<=b.indexOf(d)&&(b=a.replace(b,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return b},a.unescape=function(b){if(!b)return b;b=0<=b.indexOf("+")?a.replace(b,"+"," "):b;try{return decodeURIComponent(b)}catch(c){}return unescape(b)},a.fb=function(){var e,c=b.location.hostname,d=a.fpCookieDomainPeriods;if(d||(d=a.cookieDomainPeriods),c&&!a.cookieDomain&&!/^[0-9.]+$/.test(c)&&(d=d?parseInt(d):2,d=d>2?d:2,e=c.lastIndexOf("."),e>=0)){for(;e>=0&&d>1;)e=c.lastIndexOf(".",e-1),d--;a.cookieDomain=e>0?c.substring(e):c}return a.cookieDomain},a.c_r=a.cookieRead=function(b){b=a.escape(b);var c=" "+a.d.cookie,d=c.indexOf(" "+b+"="),e=0>d?d:c.indexOf(";",d);return b=0>d?"":a.unescape(c.substring(d+2+b.length,0>e?c.length:e)),"[[B]]"!=b?b:""},a.c_w=a.cookieWrite=function(b,c,d){var g,e=a.fb(),f=a.cookieLifetime;return c=""+c,f=f?(""+f).toUpperCase():"",d&&"SESSION"!=f&&"NONE"!=f&&((g=""!=c?parseInt(f?f:0):-60)?(d=new Date,d.setTime(d.getTime()+1e3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0)))),b&&"NONE"!=f?(a.d.cookie=b+"="+a.escape(""!=c?c:"[[B]]")+"; path=/;"+(d&&"SESSION"!=f?" expires="+d.toGMTString()+";":"")+(e?" domain="+e+";":""),a.cookieRead(b)==c):0},a.G=[],a.ba=function(b,c,d){if(a.ta)return 0;a.maxDelay||(a.maxDelay=250);var e=0,f=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];if(g||(g=a.d.webkitVisibilityState),g&&"prerender"==g){if(!a.ca)for(a.ca=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState),"visible"==b&&(a.ca=0,a.delayReady())});e=1,f=0}else d||a.l("_d")&&(e=1);return e&&(a.G.push({m:b,a:c,t:f}),a.ca||setTimeout(a.delayReady,a.maxDelay)),e},a.delayReady=function(){var d,b=(new Date).getTime(),c=0;for(a.l("_d")?c=1:a.na();0<a.G.length;){if(d=a.G.shift(),c&&!d.t&&d.t>b){a.G.unshift(d),setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.ta=1,a[d.m].apply(a,d.a),a.ta=0}},a.setAccount=a.sa=function(b){var c,d;if(!a.ba("setAccount",arguments))if(a.account=b,a.allAccounts)for(c=a.allAccounts.concat(b.split(",")),a.allAccounts=[],c.sort(),d=0;d<c.length;d++)0!=d&&c[d-1]==c[d]||a.allAccounts.push(c[d]);else a.allAccounts=b.split(",")},a.foreachVar=function(b,c){var d,e,f,g,h="";for(f=e="",a.lightProfileID?(d=a.K,(h=a.lightTrackVars)&&(h=","+h+","+a.ga.join(",")+",")):(d=a.c,(a.pe||a.linkType)&&(h=a.linkTrackVars,e=a.linkTrackEvents,a.pe&&(f=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[f]&&(h=a[f].yb,e=a[f].xb))),h&&(h=","+h+","+a.A.join(",")+","),e&&h&&(h+=",events,")),c&&(c=","+c+","),e=0;e<d.length;e++)f=d[e],(g=a[f])&&(!h||0<=h.indexOf(","+f+","))&&(!c||0<=c.indexOf(","+f+","))&&b(f,g)},a.B=function(b,c,d,e,f){var h,i,j,k,g="",l=0;if("contextData"==b&&(b="c"),c){for(h in c)if(!(Object.prototype[h]||f&&h.substring(0,f.length)!=f)&&c[h]&&(!d||0<=d.indexOf(","+(e?e+".":"")+h+","))){if(j=!1,l)for(i=0;i<l.length;i++)h.substring(0,l[i].length)==l[i]&&(j=!0);if(!j&&(""==g&&(g+="&"+b+"."),i=c[h],f&&(h=h.substring(f.length)),0<h.length))if(j=h.indexOf("."),j>0)i=h.substring(0,j),j=(f?f:"")+i+".",l||(l=[]),l.push(j),g+=a.B(i,c,d,e,j);else if("boolean"==typeof i&&(i=i?"true":"false"),i){if("retrieveLightData"==e&&0>f.indexOf(".contextData."))switch(j=h.substring(0,4),k=h.substring(4),h){case"transactionID":h="xact";break;case"channel":h="ch";break;case"campaign":h="v0";break;default:a.za(k)&&("prop"==j?h="c"+k:"eVar"==j?h="v"+k:"list"==j?h="l"+k:"hier"==j&&(h="h"+k,i=i.substring(0,255)))}g+="&"+a.escape(h)+"="+a.escape(i)}}""!=g&&(g+="&."+b)}return g},a.hb=function(){var d,e,f,g,h,i,j,k,b="",l="",m="",n=g="";if(a.lightProfileID?(d=a.K,(l=a.lightTrackVars)&&(l=","+l+","+a.ga.join(",")+",")):(d=a.c,(a.pe||a.linkType)&&(l=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(g=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[g]&&(l=a[g].yb,m=a[g].xb))),l&&(l=","+l+","+a.A.join(",")+","),m&&(m=","+m+",",l&&(l+=",events,")),a.events2&&(n+=(""!=n?",":"")+a.events2)),a.visitor&&1.5<=parseFloat(a.visitor.version)&&a.visitor.getCustomerIDs){if(g=c,h=a.visitor.getCustomerIDs())for(e in h)Object.prototype[e]||(f=h[e],g||(g={}),f.id&&(g[e+".id"]=f.id),f.authState&&(g[e+".as"]=f.authState));g&&(b+=a.B("cid",g))}for(a.AudienceManagement&&a.AudienceManagement.isReady()&&(b+=a.B("d",a.AudienceManagement.getEventCallConfigParams())),e=0;e<d.length;e++){if(g=d[e],h=a[g],f=g.substring(0,4),i=g.substring(4),!h&&"events"==g&&n&&(h=n,n=""),h&&(!l||0<=l.indexOf(","+g+","))){switch(g){case"supplementalDataID":g="sdid";break;case"timestamp":g="ts";break;case"dynamicVariablePrefix":g="D";break;case"visitorID":g="vid";break;case"marketingCloudVisitorID":g="mid";break;case"analyticsVisitorID":g="aid";break;case"audienceManagerLocationHint":g="aamlh";break;case"audienceManagerBlob":g="aamb";break;case"authState":g="as";break;case"pageURL":g="g",255<h.length&&(a.pageURLRest=h.substring(255),h=h.substring(0,255));break;case"pageURLRest":g="-g";break;case"referrer":g="r";break;case"vmk":case"visitorMigrationKey":g="vmt";break;case"visitorMigrationServer":g="vmf",a.ssl&&a.visitorMigrationServerSecure&&(h="");break;case"visitorMigrationServerSecure":g="vmf",!a.ssl&&a.visitorMigrationServer&&(h="");break;case"charSet":g="ce";break;case"visitorNamespace":g="ns";break;case"cookieDomainPeriods":g="cdp";break;case"cookieLifetime":g="cl";break;case"variableProvider":g="vvp";break;case"currencyCode":g="cc";break;case"channel":g="ch";break;case"transactionID":g="xact";break;case"campaign":g="v0";break;case"latitude":g="lat";break;case"longitude":g="lon";break;case"resolution":g="s";break;case"colorDepth":g="c";break;case"javascriptVersion":g="j";break;case"javaEnabled":g="v";break;case"cookiesEnabled":g="k";break;case"browserWidth":g="bw";break;case"browserHeight":g="bh";break;case"connectionType":g="ct";break;case"homepage":g="hp";break;case"events":if(n&&(h+=(""!=h?",":"")+n),m)for(i=h.split(","),h="",f=0;f<i.length;f++)j=i[f],k=j.indexOf("="),k>=0&&(j=j.substring(0,k)),k=j.indexOf(":"),k>=0&&(j=j.substring(0,k)),0<=m.indexOf(","+j+",")&&(h+=(h?",":"")+i[f]);break;case"events2":h="";break;case"contextData":b+=a.B("c",a[g],l,g),h="";break;case"lightProfileID":g="mtp";break;case"lightStoreForSeconds":g="mtss",a.lightProfileID||(h="");break;case"lightIncrementBy":g="mti",a.lightProfileID||(h="");break;case"retrieveLightProfiles":g="mtsr";break;case"deleteLightProfiles":g="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(b+=a.B("mts",a[g],l,g)),h="";break;default:a.za(i)&&("prop"==f?g="c"+i:"eVar"==f?g="v"+i:"list"==f?g="l"+i:"hier"==f&&(g="h"+i,h=h.substring(0,255)))}h&&(b+="&"+g+"="+("pev"!=g.substring(0,3)?a.escape(h):h))}"pev3"==g&&a.e&&(b+=a.e)}return b},a.u=function(a){var b=a.tagName;return"undefined"!=""+a.Cb||"undefined"!=""+a.sb&&"HTML"!=(""+a.sb).toUpperCase()?"":(b=b&&b.toUpperCase?b.toUpperCase():"","SHAPE"==b&&(b=""),b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A")),b)},a.va=function(a){var c,d,e,b=a.href?a.href:"";return c=b.indexOf(":"),d=b.indexOf("?"),e=b.indexOf("/"),b&&(0>c||d>=0&&c>d||e>=0&&c>e)&&(d=a.protocol&&1<a.protocol.length?a.protocol:l.protocol?l.protocol:"",c=l.pathname.lastIndexOf("/"),b=(d?d+"//":"")+(a.host?a.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>c?0:c)+"/":"")+b),b},a.H=function(b){var d,e,c=a.u(b),f="",g=0;return c&&(d=b.protocol,e=b.onclick,!b.href||"A"!=c&&"AREA"!=c||e&&d&&!(0>d.toLowerCase().indexOf("javascript"))?e?(f=a.replace(a.replace(a.replace(a.replace(""+e,"\r",""),"\n",""),"	","")," ",""),g=2):"INPUT"==c||"SUBMIT"==c?(b.value?f=b.value:b.innerText?f=b.innerText:b.textContent&&(f=b.textContent),g=3):b.src&&"IMAGE"==c&&(f=b.src):f=a.va(b),f)?{id:f.substring(0,100),type:g}:0},a.Ab=function(b){for(var c=a.u(b),d=a.H(b);b&&!d&&"BODY"!=c;)(b=b.parentElement?b.parentElement:b.parentNode)&&(c=a.u(b),d=a.H(b));return d&&"BODY"!=c||(b=0),b&&(c=b.onclick?""+b.onclick:"",0<=c.indexOf(".tl(")||0<=c.indexOf(".trackLink("))&&(b=0),b},a.rb=function(){var c,d,h,i,e=a.linkObject,f=a.linkType,g=a.linkURL;if(a.ha=1,e||(a.ha=0,e=a.clickObject),e){for(c=a.u(e),d=a.H(e);e&&!d&&"BODY"!=c;)(e=e.parentElement?e.parentElement:e.parentNode)&&(c=a.u(e),d=a.H(e));if(d&&"BODY"!=c||(e=0),e){var j=e.onclick?""+e.onclick:"";(0<=j.indexOf(".tl(")||0<=j.indexOf(".trackLink("))&&(e=0)}}else a.ha=1;if(!g&&e&&(g=a.va(e)),g&&!a.linkLeaveQueryString&&(h=g.indexOf("?"),h>=0&&(g=g.substring(0,h))),!f&&g){var m,k=0,l=0;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(j=g.toLowerCase(),h=j.indexOf("?"),i=j.indexOf("#"),h>=0?i>=0&&h>i&&(h=i):h=i,h>=0&&(j=j.substring(0,h)),h=a.linkDownloadFileTypes.toLowerCase().split(","),i=0;i<h.length;i++)(m=h[i])&&j.substring(j.length-(m.length+1))=="."+m&&(f="d");if(a.trackExternalLinks&&!f&&(j=g.toLowerCase(),a.ya(j)&&(a.linkInternalFilters||(a.linkInternalFilters=b.location.hostname),h=0,a.linkExternalFilters?(h=a.linkExternalFilters.toLowerCase().split(","),k=1):a.linkInternalFilters&&(h=a.linkInternalFilters.toLowerCase().split(",")),h))){for(i=0;i<h.length;i++)m=h[i],0<=j.indexOf(m)&&(l=1);l?k&&(f="e"):k||(f="e")}}a.linkObject=e,a.linkURL=g,a.linkType=f,(a.trackClickMap||a.trackInlineStats)&&(a.e="",e&&(f=a.pageName,g=1,e=e.sourceIndex,f||(f=a.pageURL,g=0),b.s_objectID&&(d.id=b.s_objectID,e=d.type=1),f&&d&&d.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(g?"&pidt="+g:"")+"&oid="+a.escape(d.id.substring(0,100))+(d.type?"&oidt="+d.type:"")+"&ot="+c+(e?"&oi="+e:""))))},a.ib=function(){var b=a.ha,c=a.linkType,d=a.linkURL,e=a.linkName;if(c&&(d||e)&&(c=c.toLowerCase(),"d"!=c&&"e"!=c&&(c="o"),a.pe="lnk_"+c,a.pev1=d?a.escape(d):"",a.pev2=e?a.escape(e):"",b=1),a.abort&&(b=0),a.trackClickMap||a.trackInlineStats){var h,i,j,c={},d=0,f=a.cookieRead("s_sq"),g=f?f.split("&"):0,f=0;if(g)for(h=0;h<g.length;h++)i=g[h].split("="),e=a.unescape(i[0]).split(","),i=a.unescape(i[1]),c[i]=e;if(e=a.account.split(","),b||a.e){b&&!a.e&&(f=1);for(i in c)if(!Object.prototype[i])for(h=0;h<e.length;h++)for(f&&(j=c[i].join(","),j==a.account&&(a.e+=("&"!=i.charAt(0)?"&":"")+i,c[i]=[],d=1)),g=0;g<c[i].length;g++)j=c[i][g],j==e[h]&&(f&&(a.e+="&u="+a.escape(j)+("&"!=i.charAt(0)?"&":"")+i+"&u=0"),c[i].splice(g,1),d=1);if(b||(d=1),d){f="",h=2,!b&&a.e&&(f=a.escape(e.join(","))+"="+a.escape(a.e),h=1);for(i in c)!Object.prototype[i]&&h>0&&0<c[i].length&&(f+=(f?"&":"")+a.escape(c[i].join(","))+"="+a.escape(i),h--);a.cookieWrite("s_sq",f)}}}return b},a.jb=function(){if(!a.wb){var e,f,b=new Date,c=d.location,g=f=e="",h="",i="",j="1.2",k=a.cookieWrite("s_cc","true",0)?"Y":"N",l="",m="";if(b.setUTCDate&&(j="1.3",0..toPrecision&&(j="1.5",b=[],b.forEach))){j="1.6",f=0,e={};try{f=new Iterator(e),f.next&&(j="1.7",b.reduce&&(j="1.8",j.trim&&(j="1.8.1",Date.parse&&(j="1.8.2",Object.create&&(j="1.8.5")))))}catch(n){}}e=screen.width+"x"+screen.height,g=navigator.javaEnabled()?"Y":"N",f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,h=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth,i=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),l=a.b.Bb(c)?"Y":"N"}catch(o){}try{a.b.addBehavior("#default#clientCaps"),m=a.b.connectionType}catch(p){}a.resolution=e,a.colorDepth=f,a.javascriptVersion=j,a.javaEnabled=g,a.cookiesEnabled=k,a.browserWidth=h,a.browserHeight=i,a.connectionType=m,a.homepage=l,a.wb=1}},a.L={},a.loadModule=function(c,d){var e=a.L[c];if(!e){e=b["AppMeasurement_Module_"+c]?new b["AppMeasurement_Module_"+c](a):{},a.L[c]=a[c]=e,e.Na=function(){return e.Ra},e.Sa=function(b){(e.Ra=b)&&(a[c+"_onLoad"]=b,a.ba(c+"_onLoad",[a,e],1)||b(a,e))};try{Object.defineProperty?Object.defineProperty(e,"onLoad",{get:e.Na,set:e.Sa}):e._olc=1}catch(f){e._olc=1}}d&&(a[c+"_onLoad"]=d,a.ba(c+"_onLoad",[a,e],1)||d(a,e))},a.l=function(b){var c,d;for(c in a.L)if(!Object.prototype[c]&&(d=a.L[c])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[b]&&d[b]()))return 1;return 0},a.mb=function(){var b=Math.floor(1e13*Math.random()),c=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),e=a.cookieRead(d);if(c){if(e&&(e=parseInt(e)),!e){if(!a.cookieWrite(d,b))return 0;e=b}if(e%1e4>v)return 0}return 1},a.M=function(b,c){var d,e,f,g,h,i;for(d=0;2>d;d++)for(e=d>0?a.oa:a.c,f=0;f<e.length;f++)if(g=e[f],(h=b[g])||b["!"+g]){if(!c&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(i in a[g])h[i]||(h[i]=a[g][i]);a[g]=h}},a.Ga=function(b,c){var d,e,f,g;for(d=0;2>d;d++)for(e=d>0?a.oa:a.c,f=0;f<e.length;f++)g=e[f],b[g]=a[g],c||b[g]||(b["!"+g]=1)},a.cb=function(a){var b,c,d,e,f,h,g=0,i="",j="";if(a&&255<a.length&&(b=""+a,c=b.indexOf("?"),c>0&&(h=b.substring(c+1),b=b.substring(0,c),e=b.toLowerCase(),d=0,"http://"==e.substring(0,7)?d+=7:"https://"==e.substring(0,8)&&(d+=8),c=e.indexOf("/",d),c>0&&(e=e.substring(d,c),f=b.substring(c),b=b.substring(0,c),0<=e.indexOf("google")?g=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(g=",p,ei,"),g&&h)))){if((a=h.split("&"))&&1<a.length){for(d=0;d<a.length;d++)e=a[d],c=e.indexOf("="),c>0&&0<=g.indexOf(","+e.substring(0,c)+",")?i+=(i?"&":"")+e:j+=(j?"&":"")+e;i&&j?h=i+"&"+j:j=""}c=253-(h.length-j.length)-b.length,a=b+(c>0?f.substring(0,c):"")+"?"+h}return a},a.Ma=function(b){var c=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];if(c||(c=a.d.webkitVisibilityState),c&&"prerender"==c){if(b)for(c=0;c<d.length;c++)a.d.addEventListener(d[c],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState),"visible"==c&&b()});return!1}return!0},a.Y=!1,a.D=!1,a.Ta=function(){a.D=!0,a.i()},a.W=!1,a.Q=!1,a.Qa=function(b){a.marketingCloudVisitorID=b,a.Q=!0,a.i()},a.T=!1,a.N=!1,a.Ia=function(b){a.analyticsVisitorID=b,a.N=!0,a.i()},a.V=!1,a.P=!1,a.Ka=function(b){a.audienceManagerLocationHint=b,a.P=!0,a.i()},a.U=!1,a.O=!1,a.Ja=function(b){a.audienceManagerBlob=b,a.O=!0,a.i()},a.La=function(b){return a.maxDelay||(a.maxDelay=250),a.l("_d")?(b&&setTimeout(function(){b()},a.maxDelay),!1):!0},a.X=!1,a.C=!1,a.na=function(){a.C=!0,a.i()},a.isReadyToTrack=function(){var b=!0,c=a.visitor;return a.Y||a.D||(a.Ma(a.Ta)?a.D=!0:a.Y=!0),a.Y&&!a.D?!1:(c&&c.isAllowed()&&(a.W||a.marketingCloudVisitorID||!c.getMarketingCloudVisitorID||(a.W=!0,a.marketingCloudVisitorID=c.getMarketingCloudVisitorID([a,a.Qa]),a.marketingCloudVisitorID&&(a.Q=!0)),a.T||a.analyticsVisitorID||!c.getAnalyticsVisitorID||(a.T=!0,a.analyticsVisitorID=c.getAnalyticsVisitorID([a,a.Ia]),a.analyticsVisitorID&&(a.N=!0)),a.V||a.audienceManagerLocationHint||!c.getAudienceManagerLocationHint||(a.V=!0,a.audienceManagerLocationHint=c.getAudienceManagerLocationHint([a,a.Ka]),a.audienceManagerLocationHint&&(a.P=!0)),a.U||a.audienceManagerBlob||!c.getAudienceManagerBlob||(a.U=!0,a.audienceManagerBlob=c.getAudienceManagerBlob([a,a.Ja]),a.audienceManagerBlob&&(a.O=!0)),a.W&&!a.Q&&!a.marketingCloudVisitorID||a.T&&!a.N&&!a.analyticsVisitorID||a.V&&!a.P&&!a.audienceManagerLocationHint||a.U&&!a.O&&!a.audienceManagerBlob)&&(b=!1),a.X||a.C||(a.La(a.na)?a.C=!0:a.X=!0),a.X&&!a.C&&(b=!1),b)},a.k=c,a.o=0,a.callbackWhenReadyToTrack=function(b,d,e){var f;f={},f.Xa=b,f.Wa=d,f.Ua=e,a.k==c&&(a.k=[]),a.k.push(f),0==a.o&&(a.o=setInterval(a.i,100))},a.i=function(){var b;if(a.isReadyToTrack()&&(a.o&&(clearInterval(a.o),a.o=0),a.k!=c))for(;0<a.k.length;)b=a.k.shift(),b.Wa.apply(b.Xa,b.Ua)},a.Oa=function(b){var d,e,f=c,g=c;if(!a.isReadyToTrack()){if(d=[],b!=c)for(e in f={},b)f[e]=b[e];return g={},a.Ga(g,!0),d.push(f),d.push(g),a.callbackWhenReadyToTrack(a,a.track,d),!0}return!1},a.gb=function(){var e,b=a.cookieRead("s_fid"),c="",d="";e=8;var f=4;if(!b||0>b.indexOf("-")){for(b=0;16>b;b++)e=Math.floor(Math.random()*e),c+="0123456789ABCDEF".substring(e,e+1),e=Math.floor(Math.random()*f),d+="0123456789ABCDEF".substring(e,e+1),e=f=16;b=c+"-"+d}return a.cookieWrite("s_fid",b,1)||(b=0),b},a.t=a.track=function(c,e){
var f,g=new Date,h="s"+Math.floor(g.getTime()/108e5)%10+Math.floor(1e13*Math.random()),i=g.getYear(),i="t="+a.escape(g.getDate()+"/"+g.getMonth()+"/"+(1900>i?i+1900:i)+" "+g.getHours()+":"+g.getMinutes()+":"+g.getSeconds()+" "+g.getDay()+" "+g.getTimezoneOffset());a.visitor&&(a.visitor.eb&&(a.authState=a.visitor.eb()),!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0))),a.l("_s"),a.Oa(c)||(e&&a.M(e),c&&(f={},a.Ga(f,0),a.M(c)),a.mb()&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=a.gb()),a.rb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(g.getTime()/1e3)),g=b.location,a.pageURL||(a.pageURL=g.href?g.href:g),a.referrer||a.Ha||(a.referrer=d.document.referrer),a.Ha=1,a.referrer=a.cb(a.referrer),a.l("_g")),a.ib()&&!a.abort&&(a.jb(),i+=a.hb(),a.qb(h,i),a.l("_t"),a.referrer=""))),c&&a.M(f,1)),a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=b.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0},a.tl=a.trackLink=function(b,c,d,e,f){return a.linkObject=b,a.linkType=c,a.linkName=d,f&&(a.j=b,a.q=f),a.track(e)},a.trackLight=function(b,c,d,e){return a.lightProfileID=b,a.lightStoreForSeconds=c,a.lightIncrementBy=d,a.track(e)},a.clearVars=function(){var b,c;for(b=0;b<a.c.length;b++)c=a.c[b],("prop"==c.substring(0,4)||"eVar"==c.substring(0,4)||"hier"==c.substring(0,4)||"list"==c.substring(0,4)||"channel"==c||"events"==c||"eventList"==c||"products"==c||"productList"==c||"purchaseID"==c||"transactionID"==c||"state"==c||"zip"==c||"campaign"==c)&&(a[c]=void 0)},a.tagContainerMarker="",a.qb=function(b,c){var d,e=a.trackingServer;d="";var f=a.dc,g="sc.",h=a.visitorNamespace;e?a.trackingServerSecure&&a.ssl&&(e=a.trackingServerSecure):(h||(h=a.account,e=h.indexOf(","),e>=0&&(h=h.substring(0,e)),h=h.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),f=f?(""+f).toLowerCase():"d1","2o7.net"==d&&("d1"==f?f="112":"d2"==f&&(f="122"),g=""),e=h+"."+f+"."+g+d),d=a.ssl?"https://":"http://",f=a.AudienceManagement&&a.AudienceManagement.isReady(),d+=e+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(f?"10":"1")+"/JS-"+a.version+(a.vb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+b+"?AQB=1&ndh=1&pf=1&"+(f?"callback=s_c_il["+a._in+"].AudienceManagement.passData&":"")+c+"&AQE=1",a.ab(d),a.da()},a.ab=function(b){a.g||a.kb(),a.g.push(b),a.fa=a.r(),a.Fa()},a.kb=function(){a.g=a.nb(),a.g||(a.g=[])},a.nb=function(){var c,d;if(a.ka()){try{(d=b.localStorage.getItem(a.ia()))&&(c=b.JSON.parse(d))}catch(e){}return c}},a.ka=function(){var c=!0;return a.trackOffline&&a.offlineFilename&&b.localStorage&&b.JSON||(c=!1),c},a.wa=function(){var b=0;return a.g&&(b=a.g.length),a.v&&b++,b},a.da=function(){if(!a.v)if(a.xa=c,a.ja)a.fa>a.J&&a.Da(a.g),a.ma(500);else{var b=a.Va();b>0?a.ma(b):(b=a.ua())&&(a.v=1,a.pb(b),a.tb(b))}},a.ma=function(b){a.xa||(b||(b=0),a.xa=setTimeout(a.da,b))},a.Va=function(){var b;return!a.trackOffline||0>=a.offlineThrottleDelay?0:(b=a.r()-a.Ca,a.offlineThrottleDelay<b?0:a.offlineThrottleDelay-b)},a.ua=function(){return 0<a.g.length?a.g.shift():void 0},a.pb=function(b){if(a.debugTracking){var c="AppMeasurement Debug: "+b;b=b.split("&");var d;for(d=0;d<b.length;d++)c+="\n	"+a.unescape(b[d]);a.ob(c)}},a.Pa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID},a.S=!1;var i;try{i=JSON.parse('{"x":"y"}')}catch(j){i=null}i&&"y"==i.x?(a.S=!0,a.R=function(a){return JSON.parse(a)}):b.$&&b.$.parseJSON?(a.R=function(a){return b.$.parseJSON(a)},a.S=!0):a.R=function(){return null},a.tb=function(c){var d,e,f;if(a.Pa()&&2047<c.length&&("undefined"!=typeof XMLHttpRequest&&(d=new XMLHttpRequest,"withCredentials"in d?e=1:d=0),d||"undefined"==typeof XDomainRequest||(d=new XDomainRequest,e=2),d&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(a.S?d.pa=!0:d=0)),!d&&a.lb&&(c=c.substring(0,2047)),!d&&a.d.createElement&&a.AudienceManagement&&a.AudienceManagement.isReady()&&(d=a.d.createElement("SCRIPT"))&&"async"in d&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(d.type="text/javascript",d.setAttribute("async","async"),e=3):d=0),d||(d=new Image,d.alt=""),d.ra=function(){try{a.la&&(clearTimeout(a.la),a.la=0),d.timeout&&(clearTimeout(d.timeout),d.timeout=0)}catch(b){}},d.onload=d.ub=function(){if(d.ra(),a.$a(),a.Z(),a.v=0,a.da(),d.pa){d.pa=!1;try{var b=a.R(d.responseText);AudienceManagement.passData(b)}catch(c){}}},d.onabort=d.onerror=d.bb=function(){d.ra(),(a.trackOffline||a.ja)&&a.v&&a.g.unshift(a.Za),a.v=0,a.fa>a.J&&a.Da(a.g),a.Z(),a.ma(500)},d.onreadystatechange=function(){4==d.readyState&&(200==d.status?d.ub():d.bb())},a.Ca=a.r(),1==e||2==e){var g=c.indexOf("?");f=c.substring(0,g),g=c.substring(g+1),g=g.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==e?(d.open("POST",f,!0),d.send(g)):2==e&&(d.open("POST",f),d.send(g))}else if(d.src=c,3==e){if(a.Aa)try{f.removeChild(a.Aa)}catch(h){}f.firstChild?f.insertBefore(d,f.firstChild):f.appendChild(d),a.Aa=a.Ya}d.abort&&(a.la=setTimeout(d.abort,5e3)),a.Za=c,a.Ya=b["s_i_"+a.replace(a.account,",","_")]=d,(a.useForcedLinkTracking&&a.F||a.q)&&(a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.aa=setTimeout(a.Z,a.forcedLinkTrackingTimeout))},a.$a=function(){if(a.ka()&&!(a.Ba>a.J))try{b.localStorage.removeItem(a.ia()),a.Ba=a.r()}catch(c){}},a.Da=function(c){if(a.ka()){a.Fa();try{b.localStorage.setItem(a.ia(),b.JSON.stringify(c)),a.J=a.r()}catch(d){}}},a.Fa=function(){if(a.trackOffline)for((!a.offlineLimit||0>=a.offlineLimit)&&(a.offlineLimit=10);a.g.length>a.offlineLimit;)a.ua()},a.forceOffline=function(){a.ja=!0},a.forceOnline=function(){a.ja=!1},a.ia=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account},a.r=function(){return(new Date).getTime()},a.ya=function(a){return a=a.toLowerCase(),0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1},a.setTagContainer=function(b){var c,d,e;for(a.vb=b,c=0;c<a._il.length;c++)if((d=a._il[c])&&"s_l"==d._c&&d.tagContainerName==b){if(a.M(d),d.lmq)for(c=0;c<d.lmq.length;c++)e=d.lmq[c],a.loadModule(e.n);if(d.ml)for(e in d.ml)if(a[e])for(c in b=a[e],e=d.ml[e])!Object.prototype[c]&&("function"!=typeof e[c]||0>(""+e[c]).indexOf("s_c_il"))&&(b[c]=e[c]);if(d.mmq)for(c=0;c<d.mmq.length;c++)e=d.mmq[c],a[e.m]&&(b=a[e.m],b[e.f]&&"function"==typeof b[e.f]&&(e.a?b[e.f].apply(b,e.a):b[e.f].apply(b)));if(d.tq)for(c=0;c<d.tq.length;c++)a.track(d.tq[c]);d.s=a;break}},a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,d,e){var f;return d||(d=a.pageURL?a.pageURL:b.location),e||(e="&"),c&&d&&(d=""+d,f=d.indexOf("?"),f>=0&&(d=e+d.substring(f+1)+e,f=d.indexOf(e+c+"="),f>=0&&(d=d.substring(f+e.length+c.length+1),f=d.indexOf(e),f>=0&&(d=d.substring(0,f)),0<d.length)))?a.unescape(d):""}},a.A="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData pe pev1 pev2 pev3 pageURLRest".split(" "),a.c=a.A.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),a.ga="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),a.K=a.ga.slice(0),a.oa="account allAccounts debugTracking visitor trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData AudienceManagement".split(" ");for(e=0;250>=e;e++)76>e&&(a.c.push("prop"+e),a.K.push("prop"+e)),a.c.push("eVar"+e),a.K.push("eVar"+e),6>e&&a.c.push("hier"+e),4>e&&a.c.push("list"+e);e="latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage".split(" "),a.c=a.c.concat(e),a.A=a.A.concat(e),a.ssl=0<=b.location.protocol.toLowerCase().indexOf("https"),a.charSet="UTF-8",a.contextData={},a.offlineThrottleDelay=0,a.offlineFilename="AppMeasurement.offline",a.Ca=0,a.fa=0,a.J=0,a.Ba=0,a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",a.w=b,a.d=b.document;try{a.lb="Microsoft Internet Explorer"==navigator.appName}catch(k){}a.Z=function(){a.aa&&(b.clearTimeout(a.aa),a.aa=c),a.j&&a.F&&a.j.dispatchEvent(a.F),a.q&&("function"==typeof a.q?a.q():a.j&&a.j.href&&(a.d.location=a.j.href)),a.j=a.F=a.q=0},a.Ea=function(){a.b=a.d.body,a.b?(a.p=function(c){var d,e,f,g,h;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.qa){if(!a.useForcedLinkTracking)return a.b.removeEventListener("click",a.p,!0),void(a.qa=a.useForcedLinkTracking=0);a.b.removeEventListener("click",a.p,!1)}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.I&&a.I==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var i=a.I=a.clickObject;if(a.ea&&(clearTimeout(a.ea),a.ea=0),a.ea=setTimeout(function(){a.I==i&&(a.I=0)},1e4),f=a.wa(),a.track(),f<a.wa()&&a.useForcedLinkTracking&&c.target){for(g=c.target;g&&g!=a.b&&"A"!=g.tagName.toUpperCase()&&"AREA"!=g.tagName.toUpperCase();)g=g.parentNode;if(g&&(h=g.href,a.ya(h)||(h=0),e=g.target,c.target.dispatchEvent&&h&&(!e||"_self"==e||"_top"==e||"_parent"==e||b.name&&e==b.name))){try{d=a.d.createEvent("MouseEvents")}catch(j){d=new b.MouseEvent}if(d){try{d.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(k){d=0}d&&(d["s_fe_"+a._in]=d.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.j=c.target,a.F=d)}}}}}catch(l){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.p):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&b.MouseEvent)&&(a.qa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.p,!0)),a.b.addEventListener("click",a.p,!1))):setTimeout(a.Ea,30)},a.Ea()}function s_gi(a){var b,d,e,g,h,c=window.s_c_il,f=a.split(","),i=0;if(c)for(d=0;!i&&d<c.length;){if(b=c[d],"s_c"==b._c&&(b.account||b.oun))if(b.account&&b.account==a)i=1;else for(e=b.account?b.account:b.oun,e=b.allAccounts?b.allAccounts:e.split(","),g=0;g<f.length;g++)for(h=0;h<e.length;h++)f[g]==e[h]&&(i=1);d++}return i||(b=new AppMeasurement),b.setAccount?b.setAccount(a):b.sa&&b.sa(a),b}function s_pgicq(){var c,d,e,a=window,b=a.s_giq;if(b)for(c=0;c<b.length;c++)d=b[c],e=s_gi(d.oun),e.setAccount(d.un),e.setTagContainer(d.tagContainerName);a.s_giq=0}Visitor.getInstance=function(a,b){var c,e,d=window.s_c_il;if(0>a.indexOf("@")&&(a+="@AdobeOrg"),d)for(e=0;e<d.length;e++)if((c=d[e])&&"Visitor"==c._c&&c.marketingCloudOrgID==a)return c;return new Visitor(a,b)},window.Visitor=Visitor,function(){function a(){b.ia=c}var b=window.Visitor,c=b.la;c||(c=!0),window.addEventListener?window.addEventListener("load",a):window.attachEvent&&window.attachEvent("onload",a)}(),AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),window.AppMeasurement=AppMeasurement,!function(a){if("undefined"==typeof b)var b={};if("undefined"==typeof c)var c={};if("undefined"==typeof d)var d={};if(d.radio||(d.radio={}),d.plugin||(d.plugin={}),"undefined"==typeof e)var e={};e.clock||(e.clock={}),function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(b),function(a){"use strict";var b={};b.startsWith=function(a,b){return 0==a.indexOf(b)},a.StringUtils=b}(b),function(a){"use strict";var b={};b.clone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},b.merge=function(a,c){var d=b.clone(a);for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d},a.ObjectUtils=b}(b),function(a){"use strict";function b(a,b,c){this.fn=a,this.ctx=b,this.params=c}b.prototype.run=function(){this.params?this.fn.apply(this.ctx,this.params):this.fn.apply(this.ctx)},a.radio.Command=b}(d),function(a){"use strict";function b(a,b){this._queue=[],this._lastTs=0,this._isSuspended="undefined"!=typeof a?a:!1,this._delay="undefined"!=typeof b?b:0}b.prototype.addCommand=function(a){this._queue.push(a),this._drain()},b.prototype.cancelAllCommands=function(){this._queue=[]},b.prototype.isEmpty=function(){return 0===this._queue.length},b.prototype.suspend=function(){this._isSuspended=!0},b.prototype.resume=function(){this._isSuspended=!1,this._drain()},b.prototype.flush=function(){this._isSuspended=!1;for(var a=0;a<this._queue.length;a++){var b=this._queue[a];b.run()}this._queue=[]},b.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var a=this;!function b(){var c=a._queue.shift();c?a._runCommand(c,function(){a._isSuspended||b()}):a._drainInProgress=!1}()}},b.prototype._runCommand=function(a,b){function c(){a.run(),null!=b&&b.call(d)}var d=this;if(0==this._lastTs)c();else{var e=(new Date).getTime(),f=e-this._lastTs;this._lastTs=e,f<this._delay?setTimeout(c,this._delay-f):c()}},a.radio.CommandQueue=b}(d),function(a){"use strict";function b(a,b){if(this._name=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._listeners={},this._requests={},this._commands={},this._isShutDown=!1}function c(a,c){if(a===c)return!0;for(var d=(a||"").split(b.SEPARATOR),e=(c||"").split(b.SEPARATOR),f=!0,g=0;g<d.length;g++)f=f&&(d[g]===b.WILDCARD||d[g]===e[g]);return f}b.WILDCARD="*",b.SEPARATOR=":",b.prototype.toString=function(){return"<channel: "+this._name+">"},b.prototype.shutdown=function(){this._isShutDown||(this._logger.debug(d,"#shutdown > Shutting down"),this.off(),this._requests={},this._commands={},this._isShutDown=!0)},b.prototype.on=function(a,b,c){this._isShutDown||(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push({fn:b,ctx:c}))},b.prototype.off=function(a,b,c){if(!this._isShutDown){if(b="function"==typeof b?b:null,!a&&null==b&&!c)return void(this._listeners={});if(a)this._removeListener(a,b,c);else for(a in this._listeners)this._listeners.hasOwnProperty(a)&&this._removeListener(a,b,c)}},b.prototype.trigger=function(a){if(!this._isShutDown)for(var b in this._listeners)if(this._listeners.hasOwnProperty(b)&&c(b,a.name))for(var d=this._listeners[b].slice(0),e=0;e<d.length;e++){var f=d[e];f.fn.call(f.ctx,a)}},b.prototype.comply=function(a,b,c){this._isShutDown||(this._commands[a]={cmd:b,ctx:c})},b.prototype.command=function(a,b){if(!this._isShutDown){var c=this._commands[a];return c?void c.cmd.call(c.ctx,b):void this._logger.warn(d,"#command > No command handler for: "+a)}},b.prototype.reply=function(a,b,c){this._isShutDown||(this._requests[a]={fn:b,ctx:c})},b.prototype.request=function(a){if(!this._isShutDown){var b=this._requests[a];return b?b.fn.call(b.ctx):(this._logger.warn(d,"#request > No request handler for: "+a),null)}},b.prototype._removeListener=function(a,b,c){b="function"==typeof b?b:null;var d=this._listeners[a];if(d){if(!d.length||null==b&&!c)return void delete this._listeners[a];for(var e=0;e<d.length;e++){var f=d[e];null!==b&&b!==f.fn||c&&c!==f.ctx||this._listeners[a].splice(e,1)}}};var d="radio::Channel";a.radio.Channel=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._channels={}}var c=a.radio.Channel;b.prototype.channel=function(a){return this._channels[a]||(this._channels[a]=new c(a,this._logger)),this._channels[a]},b.prototype.shutdown=function(){for(var a in this._channels)this._channels.hasOwnProperty(a)&&this._channels[a].shutdown()},a.radio.Radio=b}(d),function(a){"use strict";function b(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a}a.extend=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){throw new Error("Implementation error: Method must be overridden.")},a.ILogWriter=b}(d),function(a){"use strict";function b(){}b.prototype.write=function(a){window.console&&window.console.log&&window.console.log(a)},a.LogWriter=b}(d,c),function(a){"use strict";function b(){}b.prototype.setLogWriter=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getLogWriter=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getEnabled=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.debug=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.info=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.warn=function(a,b){throw new Error("Implementation error: Method must be overridden.")},b.prototype.error=function(a,b){throw new Error("Implementation error: Method must be overridden.")},a.ILogger=b}(d),function(a){"use strict";function b(){this._logWriter=new d}function c(a){return 10>a?"00"+a:100>a?"0"+a:""+a}var d=a.LogWriter;b.prototype.setLogWriter=function(a){if(!a)throw new Error("Reference to the ILogWriter object cannot be NULL");this._logWriter=a,this._enabled=!1},b.prototype.getLogWriter=function(){return this._logWriter},b.prototype.getEnabled=function(){return this._enabled},b.prototype.enable=function(){this._enabled=!0},b.prototype.disable=function(){this._enabled=!1},b.prototype.debug=function(a,b){this._log(a,f,b)},b.prototype.info=function(a,b){this._log(a,e,b)},b.prototype.warn=function(a,b){this._log(a,g,b)},b.prototype.error=function(a,b){this._log(a,h,b)},b.prototype._log=function(a,b,d){if(b==h||this._enabled){var e="",f=new Date;e+="["+f.toTimeString()+"."+c(f.getMilliseconds())+"] ["+b+"] ",e+="["+a+"] "+d,this._logWriter.write(e)}};var e="INFO",f="DEBUG",g="WARN",h="ERROR";a.Logger=b}(d),function(a){"use strict";function b(a,b){this._pluginName=a,this._eventName=b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getEventName=function(){return this._eventName},b.prototype.getName=function(){return this._pluginName+c.SEPARATOR+this._eventName},a.Trigger=b}(d),function(a){"use strict";function b(a,b){this.name=a,this.data=b}b.SUCCESS="success",b.ERROR="error",b.createFromTrigger=function(a){return new b(a.getName())},a.Event=b}(d),function(a){"use strict";function b(){this._events={}}b.prototype.addEventListener=function(a,b,c){a&&b&&(c=c||window,this._events[a]=this._events[a]||[],this._events[a].push({cb:b,ctx:c}))},b.prototype.removeEventListener=function(a,b,c){if(a&&b){c=c||window;var d,e,f=!1;for(e in this._events)if(a===e){f=!0;break}if(f){for(d=this._events[e].length-1;d>=0;d--){var g=this._events[e][d];b===g.cb&&c===g.ctx&&this._events[e].splice(d,1)}this._events[e].length||delete this._events[e]}}},b.prototype.dispatchEvent=function(a){if(a.name){var b,c;for(b in this._events)if(this._events.hasOwnProperty(b)&&a.name===b){var d=this._events[b],e=d.slice(0),f=e.length;for(c=0;f>c;c++)e[c].cb.call(e[c].ctx,a);break}}},b.prototype.removeAllListeners=function(a){if(a){var b,c;for(c in this._events)if(this._events.hasOwnProperty(c)){for(b=this._events[c].length-1;b>=0;b--){var d=this._events[c][b];d.ctx===a&&this._events[c].splice(b,1)}this._events[c].length||delete this._events[c]}}else this._events={}},a.EventDispatcher=b}(d),function(a){"use strict";function b(){}function c(a,b){this.url=a||null,this.method=b,this._xmlhttp=null}function d(){d.__super__.constructor.call(this),this._connection=null}var e=a.Event,f=a.EventDispatcher;b.GET="GET",d.RESPONSE="response",d.INSTANCE="instance",a.extend(d,f),d.prototype.close=function(){this.removeAllListeners(null)},d.prototype.load=function(a){a&&a.method&&a.url&&(a._xmlhttp=this._createCORSRequest(a),a._xmlhttp?a._xmlhttp.send():this._loadImage(a))},d.prototype._createCORSRequest=function(a){var b=null;if("undefined"!=typeof window.XMLHttpRequest){var c=new window.XMLHttpRequest;"withCredentials"in c&&(b=c,b.open(a.method,a.url,!0))}if(null==b&&"undefined"!=typeof window.XDomainRequest&&(b=new window.XDomainRequest,b.open(a.method,a.url)),b){var f={};f[d.INSTANCE]=this;var g=this;b.onload=function(){return b.status&&parseInt(b.status,10)>=400?this.onerror():(f[d.RESPONSE]=b.responseText,void g.dispatchEvent(new e(e.SUCCESS,f)))},b.onerror=function(){g.dispatchEvent(new e(e.ERROR,f))}}return b},d.prototype._loadImage=function(a){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=a.url;var b={};b[d.RESPONSE]="",b[d.INSTANCE]=this,this.dispatchEvent(new e(e.SUCCESS,b))},a.URLRequestMethod=b,a.URLRequest=c,a.URLLoader=d}(d),function(a){"use strict";var b="js",c="1.5.2.9",d="989da6",e=3,f={};f.getVersion=function(){return b+"-"+c+"-"+d},f.getMajor=function(){return f.getNumberAtPosition(0)},f.getMinor=function(){return f.getNumberAtPosition(1)},f.getMicro=function(){return f.getNumberAtPosition(2)},f.getPatch=function(){return f.getNumberAtPosition(3)},f.getBuild=function(){return d},f.getApiLevel=function(){return e},f.getNumberAtPosition=function(a){return c.split(".")[a]},a.Version=f}(c),function(a){"use strict";function b(a,b){this._message=a,this._details=b}b.prototype.getMessage=function(){return this._message},b.prototype.getDetails=function(){return this._details},a.ErrorInfo=b}(c),function(a){"use strict";function b(){this.debugLogging=!1}a.HeartbeatConfig=b}(c),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.HeartbeatDelegate=b}(c),function(a){"use strict";function b(){}b.prototype.configure=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.bootstrap=function(a){throw new Error("Implementation error: Method must be overridden.")},b.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.resolveData=function(a){throw new Error("Implementation error: Method must be overridden.")},a.plugin.IPlugin=b}(d),function(a){"use strict";function b(a,b,c,d){this.trigger=a,this.action=c,this.plugin=b,this._paramMappings={},this.mergeParams(d)}var c=a.plugin.ParamMapping;b.prototype.mergeParams=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];this._paramMappings[c.getKeyName()]=c}},b.prototype.getParams=function(){var a=[];for(var b in this._paramMappings)this._paramMappings.hasOwnProperty(b)&&a.push(this._paramMappings[b]);return a},b.prototype.addParam=function(a){this._paramMappings[a.getKeyName()]=a},b.prototype.removeParam=function(a,b){var d=new c(a,b);this._paramMappings.hasOwnProperty(d.getKeyName())&&delete this._paramMappings[d.getKeyName()]},a.plugin.Behaviour=b}(d),function(a){"use strict";function b(a,b,d){this._pluginName=a,this._key=b,this._paramName=d||a+c.SEPARATOR+b}var c=a.radio.Channel;b.prototype.getPluginName=function(){return this._pluginName},b.prototype.getKey=function(){return this._key},b.prototype.getKeyName=function(){return this._pluginName+c.SEPARATOR+this._key},b.prototype.getParamName=function(){return this._paramName},a.plugin.ParamMapping=b}(d),function(a){"use strict";function b(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._plugins={},this._behaviours={},this._radio=new d(this._logger),this._dataChannel=this._radio.channel(g),this._ctrlChannel=this._radio.channel(h)}var c=a.Event,d=a.radio.Radio,e=a.radio.Channel,f=a.plugin.Behaviour;b.ERROR="error",b.prototype.addPlugin=function(a){var b=a.getName();this._plugins[b]&&this._logger.warn(i,"#addPlugin > Replacing plugin: "+b),this._plugins[b]=a,a.bootstrap(this)},b.prototype.setupPlugins=function(){for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].setup()},b.prototype.pluginExists=function(a){return!!this._plugins[a]},b.prototype.isPluginInitialized=function(a){return this._plugins[a]&&this._plugins[a].isInitialized()},b.prototype.on=function(a,b,c,d){this._dataChannel.on(a+e.SEPARATOR+b,c,d)},b.prototype.off=function(a,b,c,d){var f=a&&b?a+e.SEPARATOR+b:null;this._dataChannel.off(f,c,d)},b.prototype.trigger=function(a){var b=a.name,c=this._behaviours[b];if(c){var d,e,f,g,h,i={},j={};for(d=0;d<c.length;d++)if(f=c[d],g=f.getParams())for(e=0;e<g.length;e++)h=g[e],i[h.getPluginName()]=i[h.getPluginName()]||[],h.key in i[h.getPluginName()]||i[h.getPluginName()].push(h.getKey());for(var k in i)i.hasOwnProperty(k)&&(j[k]=this.request(k,i[k]));for(d=0;d<c.length;d++){f=c[d];var l={_behaviour:f,_eventData:a.data||{}};if(g=f.getParams()){for(e=0;e<g.length;e++)h=g[e],l[h.getParamName()]=j[h.getPluginName()]?j[h.getPluginName()][h.getKey()]:null;this.command(f.plugin.getName(),f.action,l)}}}this._dataChannel.trigger(a)},b.prototype.request=function(a,b){var c=this._plugins[a];return c&&b&&0!=b.length?c.resolveData(b):null},b.prototype.raise=function(a){this._errorInfo=a;var d=new c(b.ERROR,a);this._ctrlChannel.trigger(d)},b.prototype.getErrorInfo=function(){return this._errorInfo},b.prototype.destroy=function(){this._radio.shutdown();for(var a in this._plugins)this._plugins.hasOwnProperty(a)&&this._plugins[a].destroy()},b.prototype.comply=function(a,b,c){this._dataChannel.comply(a.getName()+e.SEPARATOR+b,c,a)},b.prototype.command=function(a,b,c){this._dataChannel.command(a+e.SEPARATOR+b,c)},b.prototype.registerBehaviour=function(a,b,c,d){var e=a.getName(),g=new f(a,b,c,d);this._behaviours[e]=this._behaviours[e]||[],this._behaviours[e].push(g)};var g="data_channel",h="ctrl_channel",i="plugin::PluginManager";a.plugin.PluginManager=b}(d),function(a,b){"use strict";function c(a){this._name=a,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this._logTag="plugin::"+this.getName(),this._logger=new d}var d=a.Logger,e=a.Trigger,f=a.Event,g=b.ErrorInfo;c.INITIALIZED="initialized",c.prototype.configure=function(a){},c.prototype.bootstrap=function(a){this._pluginManager=a,this._isDestroyed&&this._pluginManager.raise(new g("Invalid state.","Plugin already destroyed."))},c.prototype.setup=function(){this._trigger(c.INITIALIZED),this._isInitialized=!0},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},c.prototype.enable=function(){this._isEnabled=!0,this._enabled()},c.prototype.disable=function(){this._isEnabled=!1,this._disabled()},c.prototype.getName=function(){return this._name},c.prototype.getLogger=function(){return this._logger},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.resolveData=function(a){if(!this._isEnabled||!this._isInitialized)return this._logger.warn(this._logTag,"Unable to retrieve plugin data. Plugin: "+this._name+". Enabled: "+this._isEnabled+". Initialized: "+this._isInitialized+"."),
null;if("function"==typeof this._dataResolver)return this._dataResolver.call(this,a);var b=null;if(a)for(var c=0;c<a.length;c++){var d=a[c];this._dataResolver.hasOwnProperty(d)&&(b=b||{},"function"==typeof this._dataResolver[d]?b[d]=this._dataResolver[d].call(this):b[d]=this._dataResolver[d])}return b},c.prototype.toString=function(){return"<plugin: "+this._name+">"},c.prototype._enabled=function(){},c.prototype._disabled=function(){},c.prototype._teardown=function(){},c.prototype._canProcess=function(){return this._isEnabled?this._isDestroyed?(this._logger.error(this._logTag,"Plugin destroyed."),!1):!0:(this._logger.error(this._logTag,"Plugin disabled."),!1)},c.prototype._trigger=function(a,b){var c=f.createFromTrigger(new e(this.getName(),a));c.data=b,this._pluginManager.trigger(c)},a.plugin.BasePlugin=c}(d,c),function(a){"use strict";function b(a,b,c){this.name=a,this.interval=b,this.isActive=!1,this.repeatCount="undefined"!=typeof c?c:e,this._nextTickTimestamp=0,this.reset()}function c(a,b){if(!a)throw new Error("Reference to the ClockService object cannot be NULL");if(this._service=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._timers={};var c=this;this._clock=window.setInterval(function(){c._onTick()},1e3*f)}b.prototype.reset=function(){this.tick=0,this._createdTimestamp=(new Date).getTime(),this._updateNextTickTimestamp()},b.prototype.shouldTick=function(){var a=(new Date).getTime();return a>this._nextTickTimestamp-f/2?(this.tick++,this._updateNextTickTimestamp(),!0):!1},b.prototype._updateNextTickTimestamp=function(){this._nextTickTimestamp=this._createdTimestamp+1e3*this.interval*(this.tick+1)},c.prototype.createTimer=function(a,c,d){this._timers[a]=new b(a,c,d)},c.prototype.destroyTimer=function(a){delete this._timers[a]},c.prototype.resumeTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#resumeTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!0,b&&c.reset())},c.prototype.pauseTimer=function(a,b){b="undefined"!=typeof b?b:!1,this._logger.debug(d,"#pauseTimer(name="+a+", reset="+b+")");var c=this._timers[a];c&&(c.isActive=!1,b&&c.reset())},c.prototype.isTimerPaused=function(a){var b=this._timers[a];return b?!b.isActive:!1},c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._timers={},window.clearInterval(this._clock))},c.prototype._onTick=function(){for(var a in this._timers)if(this._timers.hasOwnProperty(a)){var b=this._timers[a];b.isActive&&b.shouldTick()&&(b.interval>1&&this._logger.debug(d,"#_onTick() > "+b.name+"("+b.tick+" | "+b.repeatCount+")"),0!=b.repeatCount?(this._service.onTick(b.name,b.interval,b.tick),b.repeatCount!=e&&b.repeatCount--):this.destroyTimer(b.name))}};var d="service.clock::TimerManager",e=-1,f=.25;a.clock.TimerDescriptor=b,a.clock.TimerManager=c}(e),function(a,b,c){"use strict";function d(a){if(d.__super__.constructor.call(this,h),!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a,this._timerManager=new e(this,this._logger),this._setupDataResolver()}var e=c.clock.TimerManager,f=b.StringUtils,g=a.plugin.BasePlugin;a.extend(d,g),d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._pluginManager.comply(this,i,this._cmdCreate),this._pluginManager.comply(this,k,this._cmdResume),this._pluginManager.comply(this,j,this._cmdPause),this._pluginManager.comply(this,l,this._cmdDestroy)},d.prototype._teardown=function(){this._timerManager.destroy()},d.prototype._cmdCreate=function(a){var b=a[o]||s;this._timerManager.createTimer(a[m],a[n],b)},d.prototype._cmdPause=function(a){this._timerManager.pauseTimer(a[m],!!a[q])},d.prototype._cmdResume=function(a){this._timerManager.resumeTimer(a[m],!!a[q])},d.prototype._cmdDestroy=function(a){this._timerManager.destroyTimer(a[m])},d.prototype.onTick=function(a,b,c){a+=".tick";var d={};d[m]=a,d[n]=b,d[p]=c,this._trigger(a,d)},d.prototype._setupDataResolver=function(){var a={},b=this._timerManager;a[r]=function(a){return b.isTimerPaused(a)},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];if(c=c||{},f.startsWith(e,r)){var g=e.split(r+".");g.length>0&&(c[e]=a[r].call(this,g[1]))}}return c}};var h="service.clock",i="create",j="pause",k="resume",l="destroy",m="name",n="interval",o="repeat_count",p="tick",q="reset",r="is_paused",s=-1;c.clock.ClockService=d}(d,b,e),function(a,b,c){"use strict";function d(a,b){if(this._logger=new e,this._pluginManager=new f(this._logger),this._pluginManager.addPlugin(new g(this._logger)),b)for(var c=0;c<b.length;c++)this._pluginManager.addPlugin(b[c]);this._pluginManager.setupPlugins(),this._isDestroyed=!1}var e=a.Logger,f=a.plugin.PluginManager,g=b.clock.ClockService;d.prototype.configure=function(a){if(!a)throw new Error("Configuration object cannot be NULL.");a.debugLogging?this._logger.enable():this._logger.disable(),this._isDestroyed&&this._logger.error(h,"Instance is destroyed.")},d.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)};var h="Heartbeat";c.Heartbeat=d}(d,e,c),a.ADB||(a.ADB={}),a.ADB.core||(a.ADB.core=d),a.ADB.va||(a.ADB.va=c),a.ADB.va.utils||(a.ADB.va.utils=b),a.ADB.va.plugins||(a.ADB.va.plugins={})}(this),!function(a){if("undefined"==typeof b)var b={};!function(a){"use strict";var b={};b.ASSET_TYPE_VOD="vod",b.ASSET_TYPE_LIVE="live",b.ASSET_TYPE_LINEAR="linear",a.AssetType=b}(b),function(a){"use strict";function b(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"playerName="+this.playerName+", name="+this.name+", position="+this.position+", startTime="+this.startTime},a.AdBreakInfo=b}(b),function(a){"use strict";function b(){this.id=null,this.name=null,this.length=null,this.position=null}b.prototype.toString=function(){return"id="+this.id+", name="+this.name+", length="+this.length+", position="+this.position},a.AdInfo=b}(b),function(a){"use strict";function b(){this.name=null,this.length=null,this.position=null,this.startTime=null}b.prototype.toString=function(){return"name="+this.name+", length="+this.length+", position="+this.position+", startTime="+this.startTime},a.ChapterInfo=b}(b),function(a){"use strict";function b(){this.bitrate=null,this.fps=null,this.droppedFrames=null,this.startupTime=null}b.prototype.toString=function(){return"bitrate="+this.bitrate+", fps="+this.fps+", droppedFrames="+this.droppedFrames+", startupTime="+this.startupTime},a.QoSInfo=b}(b),function(a){"use strict";function b(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null}b.prototype.toString=function(){return"playerName="+this.playerName+", id="+this.id+", name="+this.name+", length="+this.length+", playhead="+this.playhead+", streamType="+this.streamType},a.VideoInfo=b}(b),function(a){"use strict";function b(){this.debugLogging=!1}a.VideoPlayerPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},b.prototype.getAdBreakInfo=function(){return null},b.prototype.getAdInfo=function(){return null},b.prototype.getChapterInfo=function(){return null},b.prototype.getQoSInfo=function(){return null},a.VideoPlayerPluginDelegate=b}(b),function(a,b){"use strict";function c(a){if(c.__super__.constructor.call(this,f),!a)throw new Error("PlayerPlugin delegate cannot be NULL.");this._delegate=a,this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1,this._setupDataResolver()}var d=a.plugin.BasePlugin,e=b.VideoPlayerPluginConfig;a.extend(c,d),c.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof e))throw new Error("Expected config data to be instance of VideoPlayerPluginConfig.");a.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure(debugLogging="+a.debugLogging+")")},c.prototype.trackSessionStart=function(){if(this._logger.info(this._logTag,"#trackSessionStart()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackSessionStart() > No active tracking session.");if(this._isTrackingSessionStarted)return void this._logger.info(this._logTag,"#trackSessionStart() > Tracking session already started.");this._trigger(k),this._isTrackingSessionStarted=!0}},c.prototype.trackVideoLoad=function(){this._logger.info(this._logTag,"#trackVideoLoad()"),this._canProcess()&&(this._trigger(i),this._isTrackingSessionActive=!0,this._isTrackingSessionStarted=!1)},c.prototype.trackVideoUnload=function(){if(this._logger.info(this._logTag,"#trackVideoUnload()"),this._canProcess()){if(!this._isTrackingSessionActive)return void this._logger.warn(this._logTag,"#trackVideoUnload() > No active tracking session.");this._trigger(j),this._isTrackingSessionActive=!1,this._isTrackingSessionStarted=!1}},c.prototype.trackPlay=function(){this._logger.info(this._logTag,"#trackPlay()"),this._canProcess()&&this._startSessionIfNeeded("trackPlay")&&this._trigger(m)},c.prototype.trackPause=function(){this._logger.info(this._logTag,"#trackPause()"),this._canProcess()&&this._startSessionIfNeeded("trackPause")&&this._trigger(n)},c.prototype.trackBufferStart=function(){this._logger.info(this._logTag,"#trackBufferStart()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferStart")&&this._trigger(q)},c.prototype.trackBufferComplete=function(){this._logger.info(this._logTag,"#trackBufferComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackBufferComplete")&&this._trigger(r)},c.prototype.trackSeekStart=function(){this._logger.info(this._logTag,"#trackSeekStart()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekStart")&&this._trigger(s)},c.prototype.trackSeekComplete=function(){this._logger.info(this._logTag,"#trackSeekComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackSeekComplete")&&this._trigger(t)},c.prototype.trackComplete=function(a){if(this._logger.info(this._logTag,"#trackComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackComplete")){var b={};b[y]=a,this._trigger(l,b)}},c.prototype.trackChapterStart=function(){this._logger.info(this._logTag,"#trackChapterStart()"),this._canProcess()&&this._startSessionIfNeeded("#trackChapterStart")&&this._trigger(u)},c.prototype.trackChapterComplete=function(){this._logger.info(this._logTag,"trackChapterComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackChapterComplete")&&this._trigger(v)},c.prototype.trackAdStart=function(){this._logger.info(this._logTag,"#trackAdStart()"),this._canProcess()&&this._startSessionIfNeeded("trackAdStart")&&this._trigger(o)},c.prototype.trackAdComplete=function(){this._logger.info(this._logTag,"#trackAdComplete()"),this._canProcess()&&this._startSessionIfNeeded("trackAdComplete")&&this._trigger(p)},c.prototype.trackBitrateChange=function(){this._logger.info(this._logTag,"#trackBitrateChange()"),this._canProcess()&&this._startSessionIfNeeded("trackBitrateChange")&&this._trigger(w)},c.prototype.trackVideoPlayerError=function(a){if(this._logger.info(this._logTag,"#trackVideoPlayerError(errorId="+a+")"),this._startSessionIfNeeded("trackVideoPlayerError")){var b={};b[z]=h,b[A]=a,this._trigger(x,b)}},c.prototype.trackApplicationError=function(a){if(this._logger.info(this._logTag,"#trackApplicationError(errorId="+a+")"),this._startSessionIfNeeded("trackApplicationError")){var b={};b[z]=g,b[A]=a,this._trigger(x,b)}},c.prototype._setupDataResolver=function(){function a(){return g.video?g.video:(g.video=h._delegate.getVideoInfo(),h._logger.info(h._logTag,"Data from delegate > VideoInfo: "+g.video),g.video)}function b(){return g.ad?g.ad:(g.ad=h._delegate.getAdInfo(),h._logger.info(h._logTag,"Data from delegate > AdInfo: "+g.ad),g.ad)}function c(){return g.pod?g.pod:(g.pod=h._delegate.getAdBreakInfo(),h._logger.info(h._logTag,"Data from delegate > AdBreakInfo: "+g.pod),g.pod)}function d(){return g.chapter?g.chapter:(g.chapter=h._delegate.getChapterInfo(),h._logger.info(h._logTag,"Data from delegate > ChapterInfo: "+g.chapter),g.chapter)}function e(){return g.qos?g.qos:(g.qos=h._delegate.getQoSInfo(),h._logger.info(h._logTag,"Data from delegate > QoSInfo: "+g.qos),g.qos)}var f={},g={},h=this;f["video.id"]=function(){var b=a(),c=b?b.id:null;return h._logger.debug(h._logTag,"Resolving video.id: "+c),c},f["video.name"]=function(){var b=a(),c=b?b.name:null;return h._logger.debug(h._logTag,"Resolving video.name: "+c),c},f["video.length"]=function(){var b=a(),c=b?b.length:NaN;return h._logger.debug(h._logTag,"Resolving video.length: "+c),c},f["video.playerName"]=function(){var b=a(),c=b?b.playerName:null;return h._logger.debug(h._logTag,"Resolving video.playerName: "+c),c},f["video.streamType"]=function(){var b=a(),c=b?b.streamType:null;return h._logger.debug(h._logTag,"Resolving video.streamType: "+c),c},f["video.playhead"]=function(){var b=a(),c=b?b.playhead:NaN;return h._logger.debug(h._logTag,"Resolving video.playhead: "+c),c},f["pod.name"]=function(){var a=c(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving pod.name: "+b),b},f["pod.playerName"]=function(){var a=c(),b=a?a.playerName:null;return h._logger.debug(h._logTag,"Resolving pod.playerName: "+b),b},f["pod.position"]=function(){var a=c(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving pod.position: "+b),b},f["pod.startTime"]=function(){var a=c(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving pod.startTime: "+b),b},f["ad.isInAd"]=function(){var a=b(),c=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAd: "+c),c},f["ad.isInAdBreak"]=function(){var a=c(),b=null!=a;return h._logger.debug(h._logTag,"Resolving ad.isInAdBreak: "+b),b},f["ad.id"]=function(){var a=b(),c=a?a.id:null;return h._logger.debug(h._logTag,"Resolving ad.id: "+c),c},f["ad.name"]=function(){var a=b(),c=a?a.name:null;return h._logger.debug(h._logTag,"Resolving ad.name: "+c),c},f["ad.length"]=function(){var a=b(),c=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving ad.length: "+c),c},f["ad.position"]=function(){var a=b(),c=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving ad.position: "+c),c},f["chapter.isInChapter"]=function(){var a=d(),b=null!=a;return h._logger.debug(h._logTag,"Resolving chapter.isInChapter: "+b),b},f["chapter.name"]=function(){var a=d(),b=a?a.name:null;return h._logger.debug(h._logTag,"Resolving chapter.name: "+b),b},f["chapter.length"]=function(){var a=d(),b=a?a.length:NaN;return h._logger.debug(h._logTag,"Resolving chapter.length: "+b),b},f["chapter.position"]=function(){var a=d(),b=a?a.position:NaN;return h._logger.debug(h._logTag,"Resolving chapter.position: "+b),b},f["chapter.startTime"]=function(){var a=d(),b=a?a.startTime:NaN;return h._logger.debug(h._logTag,"Resolving chapter.startTime: "+b),b},f["qos.bitrate"]=function(){var a=e(),b=a?a.bitrate:NaN;return h._logger.debug(h._logTag,"Resolving qos.bitrate: "+b),b},f["qos.fps"]=function(){var a=e(),b=a?a.fps:NaN;return h._logger.debug(h._logTag,"Resolving qos.fps: "+b),b},f["qos.droppedFrames"]=function(){var a=e(),b=a?a.droppedFrames:NaN;return h._logger.debug(h._logTag,"Resolving qos.droppedFrames: "+b),b},f["qos.startupTime"]=function(){var a=e(),b=a?1e3*a.startupTime:NaN;return h._logger.debug(h._logTag,"Resolving qos.startupTime: "+b),b},this._dataResolver=function(a){if(!a||0==a.length)return null;g={};for(var b=null,c=0;c<a.length;c++){var d=a[c];b=b||{},b[d]=f.hasOwnProperty(d)?f[d].call(this):null}return b}},c.prototype._startSessionIfNeeded=function(a){return this._isTrackingSessionActive?(this._isTrackingSessionStarted||(this._logger.info(this._logTag,"#"+a+"() > Tracking session auto-start."),this.trackSessionStart()),!0):(this._logger.warn(this._logTag,"#"+a+"() > No active tracking session."),!1)};var f="player",g="sourceErrorExternal",h="sourceErrorSDK",i="video_load",j="video_unload",k="video_start",l="video_complete",m="play",n="pause",o="ad_start",p="ad_complete",q="buffer_start",r="buffer_complete",s="seek_start",t="seek_complete",u="chapter_start",v="chapter_complete",w="bitrate_change",x="track_error",y="callback",z="source",A="error_id";b.VideoPlayerPlugin=c}(a.ADB.core,b),a.ADB.va.plugins.videoplayer||(a.ADB.va.plugins.videoplayer=b)}(this),!function(a){if("undefined"==typeof b)var b={};b.clock||(b.clock={}),b.context||(b.context={}),b.filter||(b.filter={}),b.model||(b.model={}),b.network||(b.network={}),function(a,b){"use strict";function c(a,b,c,d,e){if(!b)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=b,!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(this._pluginManager=a,!e)throw new Error("Reference to the logger object cannot be NULL");this._logTag="ah::Timer."+c,this._logger=e,this._isDestroyed=!1,this._createTimer(c,d),this._installHandlers()}var d=a.Event;c.KEY_NAME="name",c.KEY_INTERVAL="interval",c.KEY_RESET="reset",c.prototype.resume=function(a){this._logger.debug(this._logTag,"Starting timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,i,b)},c.prototype.pause=function(a){this._logger.debug(this._logTag,"Stopping timer: "+this._name);var b={};b[c.KEY_NAME]=e+"."+this._name,b[c.KEY_RESET]=a,this._pluginManager.command(f,h,b)},c.prototype.destroy=function(){if(!this._isDestroyed){this._isDestroyed=!0,this._uninstallHandlers();var a={};a[c.KEY_NAME]=e+"."+this._name,this._pluginManager.command(f,j,a)}},c.prototype.setInterval=function(a){var b=k+"."+e+"."+this._name,c=this._pluginManager.request(f,[b])[b];this.pause(!0),this._createTimer(this._name,a),c||this.resume(!0)},c.prototype._cmdResume=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.resume(b)},c.prototype._cmdPause=function(a){var b=!1;null!=a&&a.hasOwnProperty(c.KEY_RESET)&&(b=a[c.KEY_RESET]),this.pause(b)},c.prototype._onTick=function(a,b){this._channel.trigger(new d("clock:"+this._name+".tick",b))},c.prototype._installHandlers=function(){this._channel.comply("clock:"+this._name+".resume",this._cmdResume,this),this._channel.comply("clock:"+this._name+".pause",this._cmdPause,this),this._pluginManager.on(f,e+"."+this._name+".tick",this._onTick,this)},c.prototype._uninstallHandlers=function(){this._channel.off(null,null,this),this._pluginManager.off(null,null,null,this)},c.prototype._createTimer=function(a,b){this._name=a,this._interval=b;var d={};d[c.KEY_NAME]=e+"."+this._name,d[c.KEY_INTERVAL]=this._interval,this._pluginManager.command(f,g,d)};var e="heartbeat",f="service.clock",g="create",h="pause",i="resume",j="destroy",k="is_paused";b.clock.Timer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,f,h,d)}var d=a.Event,e=b.clock.Timer;a.extend(c,e),c.prototype._onCheckStatusComplete=function(a){var b=a.data[l];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");b>g?(this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Interval value too large: "+b),this.setInterval(g)):(this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b))}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(h)},c.prototype._getSettings=function(a){this._logger.debug(this._logTag,"#_getSettings()"),this._channel.trigger(new d(i))},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(j,this._getSettings,this),this._channel.on(k,this._onCheckStatusComplete,this),this._channel.reply(l,function(){return this._interval},this)};var f="check_status",g=600,h=60,i="clock:check_status.tick",j="clock:check_status.get_settings",k="net:check_status_complete",l="check_status_interval";b.clock.CheckStatusTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d),c.prototype._onCheckStatusComplete=function(a){var b=a.data[g];if(this._logger.debug(this._logTag,"#_onCheckStatusComplete(interval="+b+")"),b){if(b==this._interval)return void this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval value not changed.");this._logger.debug(this._logTag,"#_onCheckStatusComplete() > Interval changed to: "+b),this.setInterval(b)}else this._logger.warn(this._logTag,"#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(f)},c.prototype._installHandlers=function(){c.__super__._installHandlers.call(this),this._channel.on(h,this._onCheckStatusComplete,this),this._channel.reply(g,function(){return this._interval},this)};var e="reporting",f=10,g="reporting_interval",h="net:check_status_complete";b.clock.ReportingTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,d){c.__super__.constructor.call(this,a,b,e,f,d)}var d=b.clock.Timer;a.extend(c,d);var e="flush_filter",f=.25;b.clock.FlushFilterTimer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c){if(!a)throw new Error("Reference to the pluginManager object cannot be NULL");if(!b)throw new Error("Reference to the channel object cannot be NULL");if(!c)throw new Error("Reference to the logger object cannot be NULL");this._isDestroyed=!1,this._reportingTimer=new f(a,b,c),this._checkStatusTimer=new d(a,b,c),this._flushFilterTimer=new e(a,b,c)}var d=b.clock.CheckStatusTimer,e=b.clock.FlushFilterTimer,f=b.clock.ReportingTimer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._reportingTimer.destroy(),this._checkStatusTimer.destroy(),this._flushFilterTimer.destroy())},b.clock.Clock=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this.value=a,this.hint=b}function d(a){this.realm=a,this.data={}}c.HINT_SHORT="short",d.prototype.setField=function(a,b,d){this.data[a]=new c(b,d)},d.prototype._createAccessor=function(a,b,c){var d=this;return function(){return arguments.length&&(d[a]=arguments[0],d.setField(b,arguments[0],c)),d[a]}},b.model.Dao=d,b.model.DaoField=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podOffset=this._createAccessor("_podOffset","pod_offset",null),this.podName=this._createAccessor("_podName","pod_name",null),this.adLength=this._createAccessor("_adLength","ad_length",null),this.adName=this._createAccessor("_adName","ad_name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.adId(a.adId()),this.sid(a.sid()),this.resolver(a.resolver()),this.podId(a.podId()),this.podPosition(a.podPosition()),this.podOffset(a.podOffset()),this.podName(a.podName()),this.adLength(a.adLength()),this.adName(a.adName())}else this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podOffset(0),this.podName(""),this.adLength(0),this.adName("")}var d=b.model.Dao;a.extend(c,d),b.model.AdDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",e.HINT_SHORT),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.reportSuiteId(a.reportSuiteId()),this.trackingServer(a.trackingServer()),this.ssl(a.ssl())}else this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var d=b.model.Dao,e=b.model.DaoField;a.extend(c,d),b.model.AdobeAnalyticsDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.id(a.id()),this.sid(a.sid()),this.name(a.name()),this.position(a.position()),this.length(a.length()),this.offset(a.offset())}else this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0)}var d=b.model.Dao;a.extend(c,d),b.model.ChapterDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.length=this._createAccessor("_length","length",null),this.name=this._createAccessor("_name","name",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.name(a.name()),this.videoId(a.videoId()),this.publisher(a.publisher()),this.length(a.length());var b=a.adData()?new e(a.adData()):null;this.adData(b);var d=a.chapterData()?new f(a.chapterData()):null;this.chapterData(d)}else this.type(""),this.name(""),this.videoId(""),this.publisher(""),this.length(0),this.adData(null),this.chapterData(null)}var d=b.model.Dao,e=b.model.AdDao,f=b.model.ChapterDao;a.extend(c,d),c.TYPE_AD="ad",c.TYPE_MAIN_CONTENT="main",b.model.AssetDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.type=this._createAccessor("_type","type",null),this.duration=this._createAccessor("_duration","duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.ts=this._createAccessor("_ts","ts",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type()),this.duration(a.duration()),this.playhead(a.playhead()),this.id(a.id()),this.source(a.source()),this.ts(a.ts()),this.prevTs(a.prevTs())}else this.type(""),this.duration(0),this.playhead(0),this.id(""),this.source(""),this.ts(0),this.prevTs(-1)}var d=b.model.Dao;a.extend(c,d),c.EVENT_TYPE_AA_START="aa_start",c.EVENT_TYPE_AA_AD_START="aa_ad_start",c.EVENT_TYPE_START="start",c.EVENT_TYPE_CHAPTER_START="chapter_start",c.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",c.EVENT_TYPE_PLAY="play",c.EVENT_TYPE_PAUSE="pause",c.EVENT_TYPE_BUFFER="buffer",c.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",c.EVENT_TYPE_ERROR="error",c.EVENT_TYPE_COMPLETE="complete",b.model.EventDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.startupTime=this._createAccessor("_startup_time","startup_time",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.bitrate(a.bitrate()),this.fps(a.fps()),this.droppedFrames(a.droppedFrames()),this.startupTime(a.startupTime()),this.isStartupTimeOverridden=a.isStartupTimeOverridden}else this.bitrate(0),this.fps(0),this.droppedFrames(0),this.startupTime(0),this.isStartupTimeOverridden=!1}var d=b.model.Dao;a.extend(c,d),b.model.QoSDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.ovp(a.ovp()),this.sdk(a.sdk()),this.channel(a.channel()),this.playerName(a.playerName()),this.libVersion(a.libVersion()),this.apiLevel(a.apiLevel())}else this.ovp(e),this.sdk(e),this.channel(e),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var d=b.model.Dao;a.extend(c,d);var e="unknown";b.model.ServiceProviderDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.sessionId(a.sessionId())}else this.sessionId(null)}var d=b.model.Dao;a.extend(c,d),b.model.SessionDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"stream"),this.type=this._createAccessor("_type","type",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.type(a.type())}else this.type(null)}var d=b.model.Dao;a.extend(c,d),b.model.StreamDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(){if(c.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),arguments.length&&arguments[0]instanceof c){var a=arguments[0];this.analyticsVisitorId(a.analyticsVisitorId()),this.marketingCloudVisitorId(a.marketingCloudVisitorId()),this.visitorId(a.visitorId())}else this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null)}var d=b.model.Dao;a.extend(c,d),b.model.UserDao=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b,c,i,j){this.eventData=new e,this.eventData.type(b),this.eventData.duration(0),this.eventData.ts((new Date).getTime()),this.eventData.playhead(c),this.assetData=new f(a._assetData),this.streamData=new g(a._streamData),this.qosData=new h(a._qosData),this.cuserData=d.clone(a._cuserData),this.meta=i,this.callback=j}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.TrackItem=c}(a.ADB.va.utils,b),function(a,b){"use strict";function c(a,b,c,i,j){this.adobeAnalyticsData=a,this.userData=b,this.serviceProviderData=c,this.sessionData=i,this.eventData=new e(j.eventData),this.assetData=new f(j.assetData),this.streamData=new g(j.streamData),this.qosData=new h(j.qosData),this.cuserData=d.clone(j.cuserData),this.meta=d.clone(j.meta),this.callback=j.callback}var d=a.ObjectUtils,e=b.model.EventDao,f=b.model.AssetDao,g=b.model.StreamDao,h=b.model.QoSDao;b.model.CUserDao,b.model.Report=c}(a.ADB.va.utils,b),function(a){"use strict";function b(){}b.prototype.serializeReport=function(a){},b.prototype.serializeDao=function(a){},b.prototype.serializeMap=function(a){},b.prototype.serializeNumber=function(a,b,c,d){},b.prototype.serializeString=function(a,b,c,d){},a.model.ISerializer=b}(b),function(a,b){"use strict";function c(a){if(!a)throw new Error("Reference to the logger object cannot be NULL");this._logger=a}var d=b.model.Dao,e=b.model.DaoField,f=b.model.ISerializer;a.extend(c,f),c.prototype.serializeReport=function(a){var b=[];return b.push(this.serializeDao(a.adobeAnalyticsData)),b.push(this.serializeDao(a.userData)),b.push(this.serializeMap(a.cuserData,"cuser")),b.push(this.serializeDao(a.serviceProviderData)),b.push(this.serializeDao(a.sessionData)),b.push(this.serializeDao(a.eventData)),b.push(this.serializeDao(a.assetData)),b.push(this.serializeDao(a.streamData)),b.push(this.serializeDao(a.qosData)),
b.push(this.serializeMap(a.meta,"meta")),{serializedOutput:b.filter(function(a){return!!a}).join("&"),callback:a.callback}},c.prototype.serializeDao=function(a){var b=this._processDao(a);return b.filter(function(a){return!!a}).join("&")},c.prototype.serializeMap=function(a,b){var c=[],d=b?b:"meta";for(var e in a)a.hasOwnProperty(e)&&a[e]&&c.push("s:"+d+":"+e+"="+window.encodeURIComponent(a[e]));return c.join("&")},c.prototype.serializeNumber=function(a,b,c,d){var f=h;return null==b||isNaN(b)?null:(d===e.HINT_SHORT&&(f=i),f+":"+c+":"+a+"="+Math.floor(b))},c.prototype.serializeString=function(a,b,c,d){return b?j+":"+c+":"+a+"="+window.encodeURIComponent(b):null},c.prototype._processDao=function(a){var b=[];for(var c in a.data)if(a.data.hasOwnProperty(c)){var e=a.data[c],f=e.value,h=e.hint,i=null,j=a.realm;if(null==f)continue;"number"==typeof f?i=this.serializeNumber(c,f,j,h):"string"==typeof f?i=this.serializeString(c,f,j,h):f instanceof d?i=this.serializeDao(f):this._logger.warn(g,"#_processDao() > Unable to serialize DAO. Field: "+c+". Value: "+f+"."),i&&b.push(i)}return b};var g="ah::QuerystringSerializer",h="l",i="h",j="s";b.model.QuerystringSerializer=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the data object cannot be NULL");if(this._data=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b}c.prototype.parse=function(){var a,b,c,h;if(window.DOMParser){var i=new window.DOMParser;h=i.parseFromString(this._data,"text/xml")}else h=new window.ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(this.data);var j;j=parseInt(h.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),j&&(a=j),j=parseInt(h.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),j&&(b=j),j=parseInt(h.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),j&&(c=1==j);var k={};return k[e]=a,k[f]=b,k[g]=c,this._logger.debug(d,"#parse() > Obtained configuration settings."),k};var d="ah::SettingsParser",e="reporting_interval",f="check_status_interval",g="track_external_errors";b.network.SettingsParser=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(this._trackingServer=null,this._checkStatusServer=null,this._publisher=null,this._quietMode=!1,this._isConfigured=!1,this._isDestroyed=!1,!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._serializer=new i(b),this._installEventListeners()}var d=a.Event,e=a.URLRequestMethod,f=a.URLRequest,g=a.URLLoader,h=b.network.SettingsParser,i=b.model.QuerystringSerializer;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(j,"#destroy()"),this._uninstallEventListeners())},c.prototype._onApiConfig=function(a){var b=a.data;this._logger.debug(j,"#_onApiConfig(sb_server="+b[k]+", check_status_server="+b[l]+", publisher="+b[m]+", quiet_mode="+b[n]+", ssl="+b[o]+")"),this._trackingServer=this._updateRequestProtocol(b[k],b[o]),this._checkStatusServer=this._updateRequestProtocol(b[l],b[o]),this._publisher=b[m],this._quietMode=b[n],this._isConfigured=!0},c.prototype._onFilterReportAvailable=function(a){var b=a.data;if(!this._isConfigured)return void this._logger.warn(j,"#_onFilterReportAvailable() > Unable to send request: not configured.");var c=b[p],h=this._serializer.serializeReport(c),i=this._trackingServer+"/?"+h.serializedOutput,k=new f(i,e.GET);this._logger.debug(j,"_onFilterReportAvailable() > "+k.url);var l=this,m=function(a){o.close(),h.callback&&h.callback.call(null)},n=function(a){o.close(),l._logger.warn(j,"#_onFilterReportAvailable() > Failed to send heartbeat report."),h.callback&&h.callback.call(null)};if(!this._quietMode){var o=new g;o.addEventListener(d.SUCCESS,m,this),o.addEventListener(d.ERROR,n,this),o.load(k)}},c.prototype._onClockCheckStatusTick=function(a){function b(a){if(a.data){var b=new h(a.data.response,i._logger),c=b.parse();c?i._channel.trigger(new d(t,c)):i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to parse the config. settings.")}n.close()}function c(a){i._logger.warn(j,"#_onClockCheckStatusTick() > Failed to obtain the config. settings."),n.close()}if(!this._isConfigured)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Unable to send request: not configured.");if(!this._publisher)return void this._logger.warn(j,"#_onClockCheckStatusTick() > Publisher is NULL.");var i=this,k=this._publisher.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase(),l=this._checkStatusServer+k+".xml?r="+(new Date).getTime(),m=new f(l,e.GET),n=new g;n.addEventListener(d.SUCCESS,b,this),n.addEventListener(d.ERROR,c,this),this._logger.debug(j,"#_onClockCheckStatusTick() > Get new settings from: "+l),n.load(m)},c.prototype._updateRequestProtocol=function(a,b){var c=a;return 0===c.indexOf("http://")?c=c.slice(7):0===c.indexOf("https://")&&(c=c.slice(8)),b?"https://"+c:"http://"+c},c.prototype._installEventListeners=function(){this._channel.on(q,this._onApiConfig,this),this._channel.on(r,this._onFilterReportAvailable,this),this._channel.on(s,this._onClockCheckStatusTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var j="ah::Network",k="tracking_server",l="check_status_server",m="publisher",n="quiet_mode",o="ssl",p="report",q="api:config",r="filter:data_available",s="clock:check_status.tick",t="net:check_status_complete";b.network.Network=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._isDestroyed=!1,this._isBufferingInProgress=!1,this._reportBuffer={},this._tsHistory={},this._workQueue=new i,this._installEventListeners()}function d(a){var b=[];if(a)for(var c=0;c<a.length;c++){var d=a[c];d.eventData.type()!=k.EVENT_TYPE_PAUSE&&b.push(d)}return b}function e(a){var b=-1,c=-1,d=[];return a.forEach(function(a){a.eventData.type()==k.EVENT_TYPE_START?a.assetData.type()==l.TYPE_MAIN_CONTENT?-1==b?b=d.push(a)-1:(a.eventData.prevTs(-1),d[b]=a):-1==c?c=d.push(a)-1:(a.eventData.prevTs(-1),d[c]=a):d.push(a)}),d}function f(a){var b=[];return a.forEach(function(c){if(c.eventData.type()==k.EVENT_TYPE_PLAY){if(c.eventData.duration()>t)b.push(c);else if(0==c.eventData.duration()&&c.assetData.type()==l.TYPE_MAIN_CONTENT){var d=g(a);d.indexOf(c)==d.length-1&&b.push(c)}}else b.push(c)}),b}function g(a){var b=[];return a.forEach(function(a){(a.eventData.type()==k.EVENT_TYPE_PLAY||a.eventData.type()==k.EVENT_TYPE_BUFFER||a.eventData.type()==k.EVENT_TYPE_START)&&b.push(a)}),b}var h=a.radio.Command,i=a.radio.CommandQueue,j=a.Event,k=b.model.EventDao,l=b.model.AssetDao;c.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(v,"#destroy()"),this._uninstallEventListeners(),this._workQueue.cancelAllCommands(),this._reportBuffer={},this._tsHistory={},this._isBufferingInProgress=!1)},c.prototype._bufferReport=function(a){if(!this._isDestroyed){var b=a[q];if(b){var c=b.sessionData.sessionId();this._reportBuffer[c]=this._reportBuffer[c]||[],this._reportBuffer[c].push(b)}if(!this._isBufferingInProgress){this._isBufferingInProgress=!0;var d={};d[p]=!0,d[r]=1,this._channel.command(s,d)}}},c.prototype._flushBufferReport=function(){function a(a){if(a)for(var c=0;c<a.length;c++){var d=a[c],e=d.sessionData.sessionId();b._tsHistory[e]=b._tsHistory[e]||{};var f=d.eventData.type()+"."+(d.assetData.type()==l.TYPE_AD?d.assetData.adData().adId():d.assetData.videoId());b._tsHistory[e].hasOwnProperty(f)&&d.eventData.prevTs(b._tsHistory[e][f]),b._tsHistory[e][f]=d.eventData.ts()}}if(!this._isDestroyed){var b=this;for(var c in this._reportBuffer)if(this._reportBuffer.hasOwnProperty(c)){var g=f(e(d(this._reportBuffer[c])));a(g);for(var h=0;h<g.length;h++){var i=g[h],k={};k[q]=i,this._channel.trigger(new j(n,k))}}this._reportBuffer={};var m=this._channel.request(u),o=this._tsHistory[m]||{};this._tsHistory={},this._tsHistory[m]=o,this._isBufferingInProgress=!1}},c.prototype._onContextReportAvailable=function(a){var b=a.data;this._workQueue.addCommand(new h(this._bufferReport,this,[b]))},c.prototype._onClockFlushFilterTick=function(a){this._workQueue.addCommand(new h(this._flushBufferReport,this))},c.prototype._installEventListeners=function(){this._channel.on(m,this._onContextReportAvailable,this),this._channel.on(o,this._onClockFlushFilterTick,this)},c.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)};var m="context:report_available",n="filter:data_available",o="clock:flush_filter.tick",p="reset",q="report",r="repeat_count",s="clock:flush_filter.resume",t=250,u="session_id",v="ah::ReportFilter";b.filter.ReportFilter=c}(a.ADB.core,b),function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"playhead":if(!a.hasOwnProperty("playhead"))return this._fail("The playhead for the main video must be specified.");if("number"!=typeof a.playhead)return this._fail("The playhead for the main video must be a Number.");if(isNaN(a.playhead))return this._fail("The playhead for the main video cannot be NaN.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"chapterPosition":if(!a.hasOwnProperty("chapterPosition"))return this._fail("Position (index) of the chapter must be specified.");if("number"!=typeof a.chapterPosition)return this._fail("Position (index) of the chapter must be a Number.");if(isNaN(a.chapterPosition))return this._fail("Position (index) of the chapter cannot be NaN.");break;case"chapterOffset":if(!a.hasOwnProperty("chapterOffset"))return this._fail("Chapter start-time (offset) must be specified.");if("number"!=typeof a.chapterOffset)return this._fail("Chapter start-time (offset) must be a Number.");if(isNaN(a.chapterOffset))return this._fail("Chapter start-time (offset) cannot be NaN.");break;case"chapterLength":if(!a.hasOwnProperty("chapterLength"))return this._fail("The length of the chapter must be specified.");if("number"!=typeof a.chapterLength)return this._fail("The length of the chapter must be a Number.");if(isNaN(a.chapterLength))return this._fail("The length of the chapter cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.context.InputDataValidator=c}(a.ADB.va,b),function(a,b){"use strict";function c(a,b){if(!b)throw new Error("Reference to the logger object cannot be NULL");if(this._logger=b,!a)throw new Error("Reference to the context object cannot be NULL");this._context=a}var d=b.model.Report;c.prototype.createReportForItem=function(a){return this._logger.debug(e,"Creating report for item: "+a.eventData.type()),new d(this._context._adobeAnalyticsData,this._context._userData,this._context._serviceProviderData,this._context._sessionData,a)};var e="ah::ReportFactory";b.context.ReportFactory=c}(a.ADB.core,b),function(a,b,c,d){"use strict";function e(a,b){if(!a)throw new Error("Reference to the channel object cannot be NULL");if(this._channel=a,!b)throw new Error("Reference to the logger object cannot be NULL");this._logger=b,this._lastInBandItem=null,this._autoComputedStartupTime=0,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._cuserData=null,this._adobeAnalyticsData=new k,this._serviceProviderData=new l,this._userData=new m,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._reportFactory=new u(this,this._logger),this._inputDataValidator=new v(function(a){this._logger.error(w,a.getMessage()+" | "+a.getDetails()),this._channel.trigger(new i(y,a))},this),this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._installEventListeners()}function f(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())}var g=c.md5,h=c.ObjectUtils,i=a.Event,j=d.model.SessionDao,k=d.model.AdobeAnalyticsDao,l=d.model.ServiceProviderDao,m=d.model.UserDao,n=d.model.EventDao,o=d.model.AssetDao,p=d.model.StreamDao,q=d.model.QoSDao,r=d.model.AdDao,s=d.model.ChapterDao,t=d.model.TrackItem,u=d.context.ReportFactory,v=d.context.InputDataValidator;e.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._logger.debug(w,"#destroy()"),this._uninstallEventListeners())},e.prototype._onApiAnalyticsStart=function(a){this._logger.debug(w,"#_onApiAnalyticsStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._userData.visitorId(b.vid),this._userData.analyticsVisitorId(b.aid),this._userData.marketingCloudVisitorId(b.mid),b.customerIDs&&(this._cuserData=b.customerIDs),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_START,b.playhead,null,b._eventData[D]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._cuserData=null,this._sendHit(c)}},e.prototype._onApiAnalyticsAdStart=function(a){this._logger.debug(w,"#_onApiAnalyticsAdStart()");var b=a.data;if(this._checkCall("_onApiAnalyticsAdStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_AA_AD_START,b.playhead,null,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiVideoLoad=function(a){this._logger.debug(w,"#_onApiVideoLoad()"),this._resetInternalState(),this._isTrackingSessionActive=!0},e.prototype._onApiVideoUnload=function(a){return this._logger.debug(w,"#_onApiVideoUnload()"),this._isTrackingSessionActive?void(this._isTrackingSessionActive=!1):void this._logger.debug(w,"#_onApiVideoUnload() > No active tracking session.")},e.prototype._onApiVideoStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiVideoStart(id="+b.videoId+", name="+b.videoName+", length="+b.videoLength+", type="+b.streamType+", playerName="+b.playerName+")"),this._checkCall("_onApiVideoStart")&&this._inputDataValidator.validateFields(b,["videoId","streamType","videoLength","playhead","playerName"])){this._adobeAnalyticsData.reportSuiteId(b.rsid),this._adobeAnalyticsData.trackingServer(b.trackingServer),this._adobeAnalyticsData.ssl(Number(b.useSsl)),this._serviceProviderData.ovp(b.ovp),this._serviceProviderData.sdk(b.sdk),this._serviceProviderData.channel(b.channel),this._serviceProviderData.libVersion(b.version),this._serviceProviderData.apiLevel(b.apiLvl),this._activeAssetId=b.videoId,this._serviceProviderData.playerName(b.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.length(b.videoLength),this._assetData.type(o.TYPE_MAIN_CONTENT),this._assetData.publisher(b.publisher),this._assetData.name(b.videoName),this._streamData.type(b.streamType),this._sessionData.sessionId(f()),this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_START,b.playhead,b.metaVideo,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiVideoComplete=function(a){this._logger.debug(w,"#_onApiVideoComplete()");var b=a.data;if(this._checkCall("_onApiVideoComplete")){var c=new t(this,n.EVENT_TYPE_COMPLETE,this._assetData.length(),null,b._eventData[D]);this._sendHit(c),this._isVideoComplete=!0}},e.prototype._onApiPlay=function(a){this._logger.debug(w,"#_onApiPlay()");var b=a.data;if(this._checkCall("_onApiPlay")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PLAY,b.playhead,null,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiPause=function(a){this._logger.debug(w,"#_onApiPause()");var b=a.data;if(this._checkCall("_onApiPause")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_PAUSE,b.playhead,null,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiBufferStart=function(a){this._logger.debug(w,"#_onApiBufferStart()");var b=a.data;if(this._checkCall("_onApiBufferStart")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BUFFER,b.playhead,null,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiSeekStart=function(a){this._logger.debug(w,"#_onApiSeekStart()"),this._checkCall("_onApiSeekStart")&&(this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},e.prototype._onApiSeekComplete=function(a){this._logger.debug(w,"#_onApiSeekComplete()");var b=a.data;if(this._checkCall("_onApiSeekComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(b.isInAd){if(!this._inputDataValidator.validateFields(b,["adId","adPosition","podPosition","podPlayerName"]))return;var c=g(this._assetData.videoId())+"_"+b.podPosition;if(this._stashedAdData&&this._stashedAdData.podId()==c&&parseInt(this._stashedAdData.podPosition(),10)==b.adPosition)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=b.adId;var d=new r;d.adId(this._activeAssetId),d.adName(b.adName),d.adLength(b.adLength),d.podId(c),d.resolver(b.podPlayerName),d.podPosition(b.podPosition+""),d.podName(b.podName),d.podOffset(b.podSecond),d.sid(f()),this._assetData.adData(d)}this._assetData.type(o.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId();if(b.isInChapter){if(!this._inputDataValidator.validateFields(b,["chapterPosition","chapterLength","chapterOffset"]))return;if(this._stashedChapterData&&b.chapterPosition==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var e=new s;e.id(g(this._assetData.videoId())+"_"+b.chapterPosition),e.name(b.chapterName),e.length(b.chapterLength),e.position(b.chapterPosition),e.offset(b.chapterOffset),e.sid(f()),this._assetData.chapterData(e)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}},e.prototype._onApiAdStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiAdStart(id="+b.adId+", player_name="+b.podPlayerName+", parent_name="+this._assetData.videoId()+", pod_pos="+b.adPosition+")"),this._checkCall("_onApiAdStart")&&this._inputDataValidator.validateFields(b,["playhead","podPosition","podPlayerName","adId","adPosition"])){this._activeAssetId=b.adId;var c=new r;c.adId(this._activeAssetId),c.adName(b.adName),c.adLength(b.adLength),c.resolver(b.podPlayerName),c.podId(g(this._assetData.videoId())+"_"+b.podPosition),c.podPosition(b.adPosition+""),c.podName(b.podName),c.podOffset(b.podSecond),c.sid(f()),this._assetData.adData(c),this._assetData.type(o.TYPE_AD),this._updateQoSInfo(b);var d=new t(this,n.EVENT_TYPE_START,b.playhead,h.merge(b.metaVideo,b.metaAd),b._eventData[D]);this._sendHit(d)}},e.prototype._onApiAdComplete=function(a){this._logger.debug(w,"#_onApiAdComplete()");var b=a.data;if(this._checkCall("_onApiAdComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(this._assetData.type()!=o.TYPE_AD)return void this._logger.warn(w,"#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_COMPLETE,b.playhead,null,b._eventData[D]);this._sendHit(c),this._assetData.adData(null),this._assetData.type(o.TYPE_MAIN_CONTENT),this._activeAssetId=this._assetData.videoId()}},e.prototype._onApiChapterStart=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiChapterStart(name="+b.chapterName+", length="+b.chapterLength+", position="+b.chapterPosition+", chapter_offset="+b.chapterOffset+")"),this._checkCall("_onApiChapterStart")&&this._inputDataValidator.validateFields(b,["playhead","chapterPosition","chapterOffset","chapterLength"])){var c=new s;c.id(g(this._assetData.videoId())+"_"+b.chapterPosition),c.name(b.chapterName),c.length(b.chapterLength),c.position(b.chapterPosition),c.offset(b.chapterOffset),c.sid(f()),this._assetData.chapterData(c),this._updateQoSInfo(b);var d=new t(this,n.EVENT_TYPE_CHAPTER_START,b.playhead,h.merge(b.metaVideo,b.metaChapter),b._eventData[D]);d.assetData.adData(null),d.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(d)}},e.prototype._onApiChapterComplete=function(a){this._logger.debug(w,"#_onApiChapterComplete()");var b=a.data;if(this._checkCall("_onApiChapterComplete")&&this._inputDataValidator.validateFields(b,["playhead"])){if(!this._assetData.chapterData())return void this._logger.warn(w,"#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_CHAPTER_COMPLETE,b.playhead,null,b._eventData[D]);c.assetData.adData(null),c.assetData.type(o.TYPE_MAIN_CONTENT),this._sendHit(c),this._assetData.chapterData(null)}},e.prototype._onApiBitrateChange=function(a){this._logger.debug(w,"#_onApiBitrateChange()");var b=a.data;if(this._checkCall("_onApiBitrateChange")&&this._inputDataValidator.validateFields(b,["playhead"])){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_BITRATE_CHANGE,b.playhead,null,b._eventData[D]);this._sendHit(c)}},e.prototype._onApiTrackError=function(a){var b=a.data;if(this._logger.debug(w,"#_onApiTrackError(source="+b._eventData.source+", err_id="+b._eventData.error_id+")"),!this._isTrackingSessionActive)return void this._logger.warn(w,"#_onApiTrackError() > No active tracking session.");if(this._trackExternalErrors||b._eventData.source===x){this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0,null,b._eventData[D]);c.eventData.id(b._eventData.error_id),c.eventData.source(b._eventData.source),this._sendHit(c)}},e.prototype._onApiTrackInternalError=function(a){this._logger.debug(w,"#_onApiTrackInternalError(source="+b.source+", err_id="+b.error_id+")");var b=a.data;this._updateQoSInfo(b);var c=new t(this,n.EVENT_TYPE_ERROR,0);c.eventData.id(b.error_id),c.eventData.source(b.source),this._sendHit(c)},e.prototype._onApiQuantumEnd=function(a){this._logger.debug(w,"#_onApiQuantumEnd(interval="+this._channel.request(B)+")");var b=a.data;this._checkCall("_onApiQuantumEnd")&&this._inputDataValidator.validateFields(b,["playhead"])&&(this._lastInBandItem.eventData.playhead(b.playhead),this._updateQoSInfo(b),this._lastInBandItem.qosData.bitrate(this._qosData.bitrate()),this._lastInBandItem.qosData.fps(this._qosData.fps()),this._lastInBandItem.qosData.droppedFrames(this._qosData.droppedFrames()),this._lastInBandItem.qosData.startupTime(this._qosData.startupTime()),this._sendHit(this._lastInBandItem))},e.prototype._onNetworkCheckStatusComplete=function(a){var b=a.data;this._trackExternalErrors=b[G],this._logger.debug(w,"#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},e.prototype._installEventListeners=function(){this._channel.on(H,this._onApiAnalyticsStart,this),this._channel.on(I,this._onApiAnalyticsAdStart,this),this._channel.on(J,this._onApiVideoLoad,this),this._channel.on(K,this._onApiVideoUnload,this),this._channel.on(L,this._onApiVideoStart,this),this._channel.on(M,this._onApiVideoComplete,this),this._channel.on(N,this._onApiAdStart,this),this._channel.on(O,this._onApiAdComplete,this),this._channel.on(P,this._onApiPlay,this),this._channel.on(Q,this._onApiPause,this),this._channel.on(R,this._onApiBufferStart,this),this._channel.on(S,this._onApiSeekStart,this),this._channel.on(T,this._onApiSeekComplete,this),this._channel.on(U,this._onApiChapterStart,this),this._channel.on(V,this._onApiChapterComplete,this),this._channel.on(Y,this._onApiBitrateChange,this),this._channel.on(W,this._onApiTrackError,this),this._channel.on(X,this._onApiTrackInternalError,this),this._channel.on(Z,this._onApiQuantumEnd,this),this._channel.on(_,this._onNetworkCheckStatusComplete,this),this._channel.reply(C,function(){return this._sessionData&&this._sessionData.sessionId()?this._sessionData.sessionId():null},this)},e.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},e.prototype._resetInternalState=function(){this._logger.debug(w,"#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._autoComputedStartupTime=0,this._streamData=new p,this._qosData=new q,this._sessionData=new j,this._assetData=new o,this._cuserData=null,this._stashedAdData=null,this._stashedChapterData=null},e.prototype._updateQoSInfo=function(a){this._qosData.bitrate(a.bitrate||0),this._qosData.fps(a.fps||0),this._qosData.droppedFrames(a.droppedFrames||0),null==a.startupTime||isNaN(a.startupTime)?(this._qosData.startupTime(this._autoComputedStartupTime),this._qosData.isStartupTimeOverridden=!1):(this._qosData.startupTime(a.startupTime),this._qosData.isStartupTimeOverridden=!0)},e.prototype._checkCall=function(a){return this._isTrackingSessionActive?this._isVideoComplete?(this._logger.warn(w,"#"+a+"() > The video content already completed."),!1):!0:(this._logger.warn(w,"#"+a+"() > No active tracking session."),!1)},e.prototype._sendHit=function(a){function b(a){var b=c._reportFactory.createReportForItem(a);b.qosData.isStartupTimeOverridden||b.qosData.startupTime(c._autoComputedStartupTime);var e={};e[E]=b,c._channel.trigger(new i($,e)),(b.eventData.type()==n.EVENT_TYPE_PLAY||b.eventData.type()==n.EVENT_TYPE_BUFFER||b.eventData.type()==n.EVENT_TYPE_START)&&(d={},d[F]=!0,c._channel.command(z,d))}var c=this,d={},e=(new Date).getTime();switch(a.eventData.type()){case n.EVENT_TYPE_START:case n.EVENT_TYPE_PLAY:case n.EVENT_TYPE_PAUSE:case n.EVENT_TYPE_BUFFER:this._lastInBandItem&&(this._lastInBandItem.eventData.duration(e-this._lastInBandItem.eventData.ts()),this._lastInBandItem.eventData.ts(e),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden,this._lastInBandItem.eventData.type()==n.EVENT_TYPE_START&&this._lastInBandItem.assetData.type()==o.TYPE_MAIN_CONTENT&&(this._autoComputedStartupTime+=this._lastInBandItem.eventData.duration()),a!=this._lastInBandItem&&b(this._lastInBandItem)),b(a),this._lastInBandItem=a,d={},d[F]=!0,this._channel.command(z,d);break;case n.EVENT_TYPE_COMPLETE:this._lastInBandItem&&(this._lastInBandItem.eventData.duration(e-this._lastInBandItem.eventData.ts()),this._lastInBandItem.eventData.ts(e),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden,b(this._lastInBandItem)),b(a),a.assetData.type()==o.TYPE_MAIN_CONTENT?(this._lastInBandItem=null,d={},d[F]=!0,this._channel.command(A,d)):a.assetData.type()==o.TYPE_AD&&(this._lastInBandItem.assetData.adData(null),this._lastInBandItem.assetData.type(o.TYPE_MAIN_CONTENT));break;case n.EVENT_TYPE_CHAPTER_START:case n.EVENT_TYPE_CHAPTER_COMPLETE:this._lastInBandItem&&(this._lastInBandItem.eventData.duration(e-this._lastInBandItem.eventData.ts()),this._lastInBandItem.eventData.ts(e),this._lastInBandItem.eventData.playhead(a.eventData.playhead()),this._lastInBandItem.qosData.startupTime(a.qosData.startupTime()),this._lastInBandItem.qosData.isStartupTimeOverridden=a.qosData.isStartupTimeOverridden,b(this._lastInBandItem)),b(a),this._lastInBandItem&&(this._lastInBandItem.assetData.chapterData(a.eventData.type()==n.EVENT_TYPE_CHAPTER_START?new s(a.assetData.chapterData()):null),this._lastInBandItem.eventData.duration(0),b(this._lastInBandItem));break;default:b(a)}};var w="ah::Context",x="sourceErrorSDK",y="error",z="clock:reporting.resume",A="clock:reporting.pause",B="reporting_interval",C="session_id",D="callback",E="report",F="reset",G="track_external_errors",H="api:aa_start",I="api:aa_ad_start",J="api:video_load",K="api:video_unload",L="api:video_start",M="api:video_complete",N="api:ad_start",O="api:ad_complete",P="api:play",Q="api:pause",R="api:buffer_start",S="api:seek_start",T="api:seek_complete",U="api:chapter_start",V="api:chapter_complete",W="api:track_error",X="api:track_internal_error",Y="api:bitrate_change",Z="api:quantum_end",$="context:report_available",_="net:check_status_complete";d.context.Context=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),function(a){"use strict";function b(a,b){this.trackingServer=a,this.publisher=b,this.ssl=!1,this.ovp=c,this.sdk=c,this.quietMode=!1,this.debugLogging=!1,this.__isPrimetime=!1,this.__psdkVersion=null}var c="unknown";a.AdobeHeartbeatPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeHeartbeatPluginDelegate=b}(b),function(a,b,c){"use strict";function d(a){d.__super__.constructor.call(this,q),this._radio=new i(this._logger),this._channel=this._radio.channel(v),this._delegate=a,this._context=new l(this._channel,this._logger),this._filter=new m(this._channel,this._logger),this._network=new n(this._channel,this._logger),this._setupDataResolver()}var e=a.Event,f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Radio,j=b.ErrorInfo,k=b.Version,l=c.context.Context,m=c.filter.ReportFilter,n=c.network.Network,o=c.clock.Clock,p=c.AdobeHeartbeatPluginConfig;a.extend(d,g),
d.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeHeartbeatPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.trackingServer+", publisher="+this._config.publisher+", quietMode="+this._config.quietMode+", ssl="+this._config.ssl+"})");var b=this._config.trackingServer+"/settings/",c={};c[U]=this._config.trackingServer,c[V]=b,c[W]=this._config.publisher,c[X]=this._config.quietMode,c[Y]=this._config.ssl,this._channel.trigger(new e(_,c)),this._isConfigured=!0},d.prototype.bootstrap=function(a){d.__super__.bootstrap.call(this,a),this._channel.on(w,this._onError,this),this._clock=new o(this._pluginManager,this._channel,this._logger),this._channel.command(sa),this._channel.trigger(new e(ua)),this._registerCommands(),this._registerBehaviours()},d.prototype._teardown=function(){this._logger.debug(this._logTag,"#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._filter.destroy(),this._network.destroy()},d.prototype._canProcess=function(){return this._isConfigured?this._errorInfo?(this._logger.error(this._logTag,"_canProcess() > Plugin in ERROR state."),!1):d.__super__._canProcess.call(this):(this._logger.error(this._logTag,"_canProcess() > Plugin not configured."),!1)},d.prototype._cmdAnalyticsError=function(a){this._errorInfo||(this._errorInfo=new j("Internal error","AdobeAnalyticsPlugin is in ERROR state."),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},d.prototype._cmdAnalyticsStart=function(a){this._canProcess()&&this._channel.trigger(new e(Z,a))},d.prototype._cmdAnalyticsAdStart=function(a){this._canProcess()&&this._channel.trigger(new e($,a))},d.prototype._cmdVideoLoad=function(a){this._errorInfo=null,this._canProcess()&&(this._isTrackingSessionActive&&this._channel.trigger(new e(ba,a)),this._isTrackingSessionActive=!1,this._isPaused=!0,this._isSeeking=!1,this._isBuffering=!1,this._channel.trigger(new e(aa,a)),this._isTrackingSessionActive=!0)},d.prototype._cmdVideoUnload=function(a){this._errorInfo=null,this._canProcess()&&(this._channel.trigger(new e(ba,a)),this._isTrackingSessionActive=!1)},d.prototype._cmdVideoStart=function(a){this._canProcess()&&this._channel.trigger(new e(ca,a))},d.prototype._cmdVideoComplete=function(a){this._canProcess()&&this._channel.trigger(new e(da,a))},d.prototype._cmdPlay=function(a){this._canProcess()&&(this._isPaused=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdPause=function(a){this._canProcess()&&(this._channel.trigger(new e(ha,a)),this._isPaused=!0)},d.prototype._cmdAdStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ea,a)),this._resumePlaybackIfPossible(a))},d.prototype._cmdAdComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(fa,a)),a.isInAdBreak||this._resumePlaybackIfPossible(a))},d.prototype._cmdBufferStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ia,a)),this._isBuffering=!0)},d.prototype._cmdBufferComplete=function(a){this._canProcess()&&(this._isBuffering=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdSeekStart=function(a){this._canProcess()&&(this._channel.trigger(new e(ja,a)),this._channel.trigger(new e(ha,a)),this._isSeeking=!0)},d.prototype._cmdSeekComplete=function(a){this._canProcess()&&(this._channel.trigger(new e(ka,a)),this._isSeeking=!1,this._resumePlaybackIfPossible(a))},d.prototype._cmdChapterStart=function(a){this._canProcess()&&this._channel.trigger(new e(la,a))},d.prototype._cmdChapterComplete=function(a){this._canProcess()&&this._channel.trigger(new e(ma,a))},d.prototype._cmdBitrateChange=function(a){this._canProcess()&&this._channel.trigger(new e(pa,a))},d.prototype._cmdTrackError=function(a){this._canProcess()&&this._channel.trigger(new e(na,a))},d.prototype._cmdClockReportingTick=function(a){this._canProcess()&&this._channel.trigger(new e(qa,a))},d.prototype._onError=function(a){this._errorInfo=a.data;var b={};b[S]=ra,b[T]=this._errorInfo.getMessage()+"|"+this._errorInfo.getDetails(),this._channel.trigger(new e(oa,b));var c={};c[R]=!0,this._channel.command(ta,c),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo)},d.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleAnalyticsError",this._cmdAnalyticsError),this._pluginManager.comply(this,"handleAnalyticsStart",this._cmdAnalyticsStart),this._pluginManager.comply(this,"handleAnalyticsAdStart",this._cmdAnalyticsAdStart),this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoUnload",this._cmdVideoUnload),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleVideoComplete",this._cmdVideoComplete),this._pluginManager.comply(this,"handlePlay",this._cmdPlay),this._pluginManager.comply(this,"handlePause",this._cmdPause),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleAdComplete",this._cmdAdComplete),this._pluginManager.comply(this,"handleBufferStart",this._cmdBufferStart),this._pluginManager.comply(this,"handleBufferComplete",this._cmdBufferComplete),this._pluginManager.comply(this,"handleSeekStart",this._cmdSeekStart),this._pluginManager.comply(this,"handleSeekComplete",this._cmdSeekComplete),this._pluginManager.comply(this,"handleChapterStart",this._cmdChapterStart),this._pluginManager.comply(this,"handleChapterComplete",this._cmdChapterComplete),this._pluginManager.comply(this,"handleBitrateChange",this._cmdBitrateChange),this._pluginManager.comply(this,"handleTrackError",this._cmdTrackError),this._pluginManager.comply(this,"handleClockReportingTick",this._cmdClockReportingTick)},d.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,z),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(t,A),this,"handleVideoUnload"),this._pluginManager.registerBehaviour(new f(t,B),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"rsid","rsid"),new h(s,"tracking_server","trackingServer"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"ssl","useSsl"),new h(r,"publisher","publisher"),new h(r,"sdk","sdk"),new h(r,"ovp","ovp"),new h(r,"version","version"),new h(r,"api_level","apiLvl")]),this._pluginManager.registerBehaviour(new f(t,C),this,"handleVideoComplete",[new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,D),this,"handlePlay",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,E),this,"handlePause",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,F),this,"handleAdStart",[new h(t,"video.playhead","playhead"),new h(t,"ad.id","adId"),new h(t,"ad.name","adName"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"pod.name","podName"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"pod.startTime","podSecond"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd")]),this._pluginManager.registerBehaviour(new f(t,G),this,"handleAdComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAdBreak","isInAdBreak"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handleBufferStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,I),this,"handleBufferComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,J),this,"handleSeekStart",[new h(t,"video.playhead","playhead")]),this._pluginManager.registerBehaviour(new f(t,K),this,"handleSeekComplete",[new h(t,"video.playhead","playhead"),new h(t,"ad.isInAd","isInAd"),new h(t,"ad.id","adId"),new h(t,"ad.position","adPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.position","podPosition"),new h(t,"chapter.isInChapter","isInChapter"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,L),this,"handleChapterStart",[new h(t,"video.playhead","playhead"),new h(t,"chapter.position","chapterPosition"),new h(t,"chapter.name","chapterName"),new h(t,"chapter.length","chapterLength"),new h(t,"chapter.startTime","chapterOffset"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.chapter.*","metaChapter")]),this._pluginManager.registerBehaviour(new f(t,M),this,"handleChapterComplete",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,N),this,"handleBitrateChange",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(t,O),this,"handleTrackError"),this._pluginManager.registerBehaviour(new f(u,Q),this,"handleClockReportingTick",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,w),this,"handleAnalyticsError"),this._pluginManager.registerBehaviour(new f(s,x),this,"handleAnalyticsStart",[new h(s,"vid","vid"),new h(s,"aid","aid"),new h(s,"mid","mid"),new h(s,"customerIDs","customerIDs"),new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")]),this._pluginManager.registerBehaviour(new f(s,y),this,"handleAnalyticsAdStart",[new h(t,"video.playhead","playhead"),new h(t,"qos.fps","fps"),new h(t,"qos.droppedFrames","droppedFrames"),new h(t,"qos.bitrate","bitrate"),new h(t,"qos.startupTime","startupTime")])},d.prototype._setupDataResolver=function(){var a={},b=this;a.version=function(){return k.getVersion()},a.api_level=function(){return k.getApiLevel()},a.tracking_server=function(){return b._config?b._config.trackingServer:null},a.publisher=function(){return b._config?b._config.publisher:null},a.quiet_mode=function(){return b._config?b._config.quietMode:!1},a.ovp=function(){return b._config?b._config.ovp:null},a.sdk=function(){return b._config?b._config.sdk:null},a.is_primetime=function(){return b._config?b._config.__isPrimetime:!1},a.psdk_version=function(){return b._config?b._config.__psdkVersion:null},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},d.prototype._resumePlaybackIfPossible=function(a){this._errorInfo||this._isPaused||this._isSeeking||this._isBuffering||this._channel.trigger(new e(ga,a))};var q="adobe-heartbeat",r=q,s="adobe-analytics",t="player",u="service.clock",v="heartbeat-channel",w="error",x="aa_start",y="sc_ad_start",z="video_load",A="video_unload",B="video_start",C="video_complete",D="play",E="pause",F="ad_start",G="ad_complete",H="buffer_start",I="buffer_complete",J="seek_start",K="seek_complete",L="chapter_start",M="chapter_complete",N="bitrate_change",O="track_error",P="heartbeat.reporting",Q=P+".tick",R="reset",S="source",T="error_id",U="tracking_server",V="check_status_server",W="publisher",X="quiet_mode",Y="ssl",Z="api:aa_start",$="api:aa_ad_start",_="api:config",aa="api:video_load",ba="api:video_unload",ca="api:video_start",da="api:video_complete",ea="api:ad_start",fa="api:ad_complete",ga="api:play",ha="api:pause",ia="api:buffer_start",ja="api:seek_start",ka="api:seek_complete",la="api:chapter_start",ma="api:chapter_complete",na="api:track_error",oa="api:track_internal_error",pa="api:bitrate_change",qa="api:quantum_end",ra="sourceErrorHeartbeat",sa="clock:check_status.resume",ta="clock:reporting.pause",ua="clock:check_status.get_settings";c.AdobeHeartbeatPlugin=d}(a.ADB.core,a.ADB.va,b),a.ADB.va.plugins.ah||(a.ADB.va.plugins.ah=b)}(this),!function(a){if("undefined"==typeof b)var b={};!function(a,b){"use strict";function c(a,b){this._onFail={fn:a,ctx:b}}var d=a.ErrorInfo;c.prototype.validateFields=function(a,b){if(!a)return this._fail("Data cannot be null");if(b)for(var c=0;c<b.length;c++){var d=b[c];switch(d){case"videoId":if(!a.hasOwnProperty("videoId"))return this._fail("The ID for the main video must be specified.");if("string"!=typeof a.videoId)return this._fail("The ID for the main video must be a String.");if(""===a.videoId)return this._fail("The ID for the main video cannot be an empty string.");break;case"streamType":if(!a.hasOwnProperty("streamType"))return this._fail("The stream type for the main video must be specified.");if("string"!=typeof a.streamType)return this._fail("The stream type for the main video must be a String.");if(""===a.streamType)return this._fail("The stream type for the main video cannot be an empty string.");break;case"playerName":if(!a.hasOwnProperty("playerName"))return this._fail("The player name for the main video must be specified.");if("string"!=typeof a.playerName)return this._fail("The player name for the main video must be a String.");if(""===a.playerName)return this._fail("The player name for the main video cannot be an empty string.");break;case"videoLength":if(!a.hasOwnProperty("videoLength"))return this._fail("The length of the main video must be specified.");if("number"!=typeof a.videoLength)return this._fail("The length of the main video must be a Number.");if(isNaN(a.videoLength))return this._fail("The length of the main video cannot be NaN.");break;case"podPlayerName":if(!a.hasOwnProperty("podPlayerName"))return this._fail("The player name for the ad-break must be specified.");if("string"!=typeof a.podPlayerName)return this._fail("The player name for the ad-break must be a String.");if(""===a.podPlayerName)return this._fail("The player name for the ad-break cannot be an empty string.");break;case"podPosition":if(!a.hasOwnProperty("podPosition"))return this._fail("Position (index) of the ad-break must be specified.");if("number"!=typeof a.podPosition)return this._fail("Position (index) of the ad-break must be a Number.");if(isNaN(a.podPosition))return this._fail("Position (index) of the ad-break cannot be NaN.");break;case"adId":if(!a.hasOwnProperty("adId"))return this._fail("The ad ID must be specified.");if("string"!=typeof a.adId)return this._fail("The ad ID must be a String.");if(""===a.adId)return this._fail("The ad ID cannot be an empty string.");break;case"adPosition":if(!a.hasOwnProperty("adPosition"))return this._fail("Position (index) of the ad must be specified.");if("number"!=typeof a.adPosition)return this._fail("Position (index) of the ad must be a Number.");if(isNaN(a.adPosition))return this._fail("Position (index) of the ad cannot be NaN.");break;case"adLength":if(!a.hasOwnProperty("adLength"))return this._fail("The length of the ad must be specified.");if("number"!=typeof a.adLength)return this._fail("The length of the ad must be a Number.");if(isNaN(a.adLength))return this._fail("The length of the ad cannot be NaN.");break;default:return this._fail("Unable to validate unknown parameter: "+d)}}return!0},c.prototype._fail=function(a){var b=new d("Invalid input data",a);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,b),!1},b.InputDataValidator=c}(a.ADB.va,b),function(a){"use strict";function b(){this.channel=c,this.debugLogging=!1}var c="";a.AdobeAnalyticsPluginConfig=b}(b),function(a){"use strict";function b(){}b.prototype.onError=function(a){},a.AdobeAnalyticsPluginDelegate=b}(b),function(a,b,c,d){"use strict";function e(a,b){if(e.__super__.constructor.call(this,r),!a)throw new Error("The reference to the AppMeasurement object cannot be NULL.");this._appMeasurement=a,this._delegate=b,this._customMetaKeys=[],this._videoMetadata={},this._adMetadata={},this._chapterMetadata={},this._errorInfo=null,this._workQueue=new k(!0,v),this._inputDataValidator=new q(function(a){this._errorInfo=a,this._logger.error(this._logTag,a.getMessage()+" | "+a.getDetails()),this._trigger(w,a),this._delegate&&this._delegate.onError(this._errorInfo)},this),this._appMeasurement.isReadyToTrack(),this._setupDataResolver()}var f=a.Trigger,g=a.plugin.BasePlugin,h=a.plugin.ParamMapping,i=a.radio.Channel,j=a.radio.Command,k=a.radio.CommandQueue,l=b.ErrorInfo,m=c.md5,n=c.StringUtils,o=c.ObjectUtils,p=d.AdobeAnalyticsPluginConfig,q=d.InputDataValidator;a.extend(e,g),e.prototype.configure=function(a){if(!a)throw new Error("Reference to the configuration data cannot be NULL.");if(!(a instanceof p))throw new Error("Expected config data to be instance of AdobeAnalyticsPluginConfig.");this._config=a,this._config.debugLogging?this._logger.enable():this._logger.disable(),this._logger.debug(this._logTag,"#configure({trackingServer="+this._config.debugLogging+", channel="+this._config.channel+", ssl="+this._appMeasurement.ssl+"})")},e.prototype.bootstrap=function(a){e.__super__.bootstrap.call(this,a),this._registerCommands(),this._registerBehaviours()},e.prototype.setup=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[]),e.__super__.setup.call(this)},e.prototype.setVideoMetadata=function(a){this._videoMetadata=o.clone(a)},e.prototype.setAdMetadata=function(a){this._adMetadata=o.clone(a)},e.prototype.setChapterMetadata=function(a){this._chapterMetadata=o.clone(a)},e.prototype._canProcess=function(){return this._errorInfo?(this._logger.error(this._logTag,"#_canProcess() > In ERROR state."),!1):e.__super__._canProcess.call(this)},e.prototype._cmdVideoLoad=function(a){this._errorInfo=null},e.prototype._cmdVideoStart=function(a){this._logger.debug(this._logTag,"#_cmdVideoStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpen,this,[a]))},e.prototype._cmdAdStart=function(a){this._logger.debug(this._logTag,"#_cmdAdStart()"),this._canProcess()&&this._workQueue.addCommand(new j(this._executeOpenAd,this,[a]))},e.prototype._cmdHeartbeatPluginError=function(a){this._errorInfo||(this._errorInfo=new l("Internal error","HeartbeatPlugin is in ERROR state."),this._trigger(w,this._errorInfo),this._delegate&&this._delegate.onError(this._errorInfo))},e.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.view"];for(var a=0;a<this._customMetaKeys.length;a++){var b=this._customMetaKeys[a];delete this._appMeasurement.contextData[b]}this._customMetaKeys=[]},e.prototype._executeOpen=function(a){if(this._logger.debug(this._logTag,"#_executeOpen(id="+a.videoId+", videoName="+a.videoName+", streamType="+a.streamType+", length="+a.videoLength+", playerName="+a.playerName+", channel="+a.channel+", isPrimetime="+a.isPrimetime+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","videoLength","playerName"])){this._resetAppMeasurementContextData();for(var b in a.metaVideo)a.metaVideo.hasOwnProperty(b)&&(this._appMeasurement.contextData[b]=a.metaVideo[b],this._customMetaKeys.push(b));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.friendlyName"]=a.videoName||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(a.videoLength)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.pev3=x,this._appMeasurement.pe=a.isPrimetime?A:z,this._appMeasurement.track();var c=this;setTimeout(function(){c._trigger(D,a)},0)}},e.prototype._executeOpenAd=function(a){var b=m(a.videoId)+"_"+a.podPosition;if(this._logger.debug(this._logTag,"#_executeOpenAd(id="+a.adId+", streamType="+a.streamType+", length="+a.adLength+", podPlayerName="+a.podPlayerName+", parentId="+a.videoId+", podId="+b+", parentPodPosition="+a.adPosition+", podSecond="+a.podSecond+")"),this._canProcess()&&this._inputDataValidator.validateFields(a,["videoId","streamType","playerName","adId","adLength","podPlayerName","adPosition"])){a.podSecond=null==a.podSecond||isNaN(a.podSecond)?a.playhead:a.podSecond,this._resetAppMeasurementContextData();var c;for(c in a.metaVideo)a.metaVideo.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaVideo[c],this._customMetaKeys.push(c));for(c in a.metaAd)a.metaAd.hasOwnProperty(c)&&(this._appMeasurement.contextData[c]=a.metaAd[c],this._customMetaKeys.push(c));this._appMeasurement.contextData["a.contentType"]=a.streamType,this._appMeasurement.contextData["a.media.name"]=a.videoId,this._appMeasurement.contextData["a.media.playerName"]=a.playerName,this._appMeasurement.contextData["a.media.channel"]=a.channel||"",this._appMeasurement.contextData["a.media.ad.name"]=a.adId,this._appMeasurement.contextData["a.media.ad.friendlyName"]=a.adName||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=a.podName||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(a.adLength)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=a.podPlayerName,this._appMeasurement.contextData["a.media.ad.pod"]=b,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(a.adPosition)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(a.podSecond)||"0.0",this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=y,this._appMeasurement.pe=a.isPrimetime?C:B,this._appMeasurement.track();var d=this;setTimeout(function(){d._trigger(E,a)},0)}},e.prototype._setupDataResolver=function(){var a={},b=this;a.rsid=function(){return b._appMeasurement.account},a.tracking_server=function(){return b._appMeasurement.ssl&&b._appMeasurement.trackingServerSecure?b._appMeasurement.trackingServerSecure:b._appMeasurement.trackingServer},a.ssl=function(){return b._appMeasurement.ssl},a.vid=function(){return b._appMeasurement.visitorID},a.aid=function(){return b._appMeasurement.analyticsVisitorID},a.mid=function(){return b._appMeasurement.marketingCloudVisitorID},a.customerIDs=function(){var a=b._appMeasurement.visitor.getCustomerIDs(),c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if("object"==typeof e){for(var f in e)e.hasOwnProperty(f)&&("authState"==f?c[d+".as"]=e[f]:c[d+"."+f]=e[f]);c[d+".as"]||(c[d+".as"]="0")}}return c},a.channel=function(){return b._config?b._config.channel:null},a.meta=function(a){var c=a.split(".");if(c.length<2)return null;var d=c.shift();switch(a=c.join("."),d){case"video":return a==i.WILDCARD?b._videoMetadata:b._videoMetadata[a];case"ad":return a==i.WILDCARD?b._adMetadata:b._adMetadata[a];case"chapter":return a==i.WILDCARD?b._chapterMetadata:b._chapterMetadata[a];default:return null}},this._dataResolver=function(b){if(!b||0==b.length)return null;for(var c=null,d=0;d<b.length;d++){var e=b[d];c=c||{},n.startsWith(e,"meta.")?c[e]=a.meta(e.split("meta.")[1]):c[e]=a.hasOwnProperty(e)?a[e].call(this):null}return c}},e.prototype._registerCommands=function(){this._pluginManager.comply(this,"handleVideoLoad",this._cmdVideoLoad),this._pluginManager.comply(this,"handleVideoStart",this._cmdVideoStart),this._pluginManager.comply(this,"handleAdStart",this._cmdAdStart),this._pluginManager.comply(this,"handleHeartbeatPluginError",this._cmdHeartbeatPluginError)},e.prototype._registerBehaviours=function(){this._pluginManager.registerBehaviour(new f(t,F),this,"handleVideoLoad"),this._pluginManager.registerBehaviour(new f(t,G),this,"handleVideoStart",[new h(t,"video.id","videoId"),new h(t,"video.streamType","streamType"),new h(t,"video.name","videoName"),new h(t,"video.length","videoLength"),new h(t,"video.playerName","playerName"),new h(t,"video.streamType","streamType"),new h(u,"is_primetime","isPrimetime"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo")]),this._pluginManager.registerBehaviour(new f(t,H),this,"handleAdStart",[new h(t,"video.id","videoId"),new h(t,"video.streamType","streamType"),new h(t,"video.playhead","playhead"),new h(t,"video.playerName","playerName"),new h(t,"ad.id","adId"),new h(t,"ad.length","adLength"),new h(t,"ad.position","adPosition"),new h(t,"ad.name","adName"),new h(t,"pod.name","podName"),new h(t,"pod.position","podPosition"),new h(t,"pod.playerName","podPlayerName"),new h(t,"pod.startTime","podSecond"),new h(u,"is_primetime","isPrimetime"),new h(s,"channel","channel"),new h(s,"meta.video.*","metaVideo"),new h(s,"meta.ad.*","metaAd")]),this._pluginManager.registerBehaviour(new f(u,w),this,"handleHeartbeatPluginError")},e.prototype._onAppMeasurementReady=function(){this._workQueue.resume()};var r="adobe-analytics",s=r,t="player",u="adobe-heartbeat",v=2e3,w="error",x="video",y="videoAd",z="ms_s",A="msp_s",B="msa_s",C="mspa_s",D="aa_start",E="sc_ad_start",F="video_load",G="video_start",H="ad_start";d.AdobeAnalyticsPlugin=e}(a.ADB.core,a.ADB.va,a.ADB.va.utils,b),a.ADB.va.plugins.aa||(a.ADB.va.plugins.aa=b)}(this),function(a,b){"use strict";var c=function(c){var e,f,d=this,g=[],h=!1,i="none",j=0,k=c.options,l=!1,m=!1,n=function(b){a.location.href;"undefined"!=typeof console&&c.debug&&console.log(b)},o=function(){var b,c,d;if(b=a.location.host,c=b.split("."),c.length>2){if(d=c[c.length-2],null===d||void 0===typeof d)return;i=d.toLowerCase()}},p=function(){k.QUALITY.TIME_TO_START=j,f&&f.setConfigSettings(k)},q=function(){h||(k.PLAYER={NAME:d.bcAnalytics.settings.playerName,CHANNEL:i},k.HEARTBEAT&&(k.HEARTBEAT.CHANNEL=i),f=d.omniturePlugin(k,m,n),h=!0)},r=function(){l=!0,g=[],q(),p()},s=function(){l||(m=!0),clearInterval(e),k.QUALITY.TIME_TO_START=j||0},t=function(){o(),d.on("loadstart",r),d.one("play",s)};if(c.jQuery&&void 0==a.$){var u=b.createElement("script");u.onload=t,u.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jquery/"+c.jQuery+"/jquery.min.js"),b.head.appendChild(u)}else t();e=setInterval(function(){j++},1e3)};videojs.plugin("BCGSAdobeAnalyticsPlugin",c)}(window,document),function(a){"use strict";function f(a,c,d){f.__super__.constructor.call(this),this._player=a,this._currentAd=null,this._videoInfo=null,this._provider=c,this._adposition=0,this._adCounter=0,b=d}var b,c=a.core.extend,d=a.va.plugins.videoplayer.VideoPlayerPluginDelegate;c(f,d),f.prototype.getVideoInfo=function(){var b=a.va.plugins.videoplayer.VideoInfo,c=new b;return this._provider.isAdPlaying()?(c.id=this._player.mediainfo.id,c.name=this._player.mediainfo.name,c.playerName=this._provider._settings.PLAYER.NAME,c.streamType=a.va.plugins.videoplayer.AssetType.ASSET_TYPE_VOD,"undefined"!=typeof this._player.ima3&&(c.length=this._player.ima3.adPlayer.duration(),c.playhead=Math.round(this._player.ima3.adPlayer.currentTime()))):(c.id=this._player.mediainfo.id,c.name=this._player.mediainfo.name,c.playerName=this._provider._settings.PLAYER.NAME,this._player.duration()>0?c.length=Math.ceil(this._player.duration()):c.length=this._player.mediainfo.duration,c.streamType=a.va.plugins.videoplayer.AssetType.ASSET_TYPE_VOD,c.playhead=this._player.currentTime()),this._videoInfo=c,c},f.prototype.getAdBreakInfo=function(){var b=a.va.plugins.videoplayer.AdBreakInfo,c=new b;if(this._provider.isAdPlaying()){c.playerName=this._provider._settings.PLAYER.NAME;var d="";if(this._player.ima3.currentAd&&this._player.ima3.currentAd.getAdPodInfo){this._adposition=this._player.ima3.currentAd.getAdPodInfo().getAdPosition();var e=this._player.ima3.currentAd.getAdPodInfo().getTimeOffset();d=0==e?"preroll":e==this._player.duration()?"postroll":"midroll"}else d=Math.floor(this._player.currentTime())<=5?"preroll":this._player.currentTime()>=this._player.duration()?"postroll":"midroll";c.id=this._player.mediainfo.id,c.name=d,c.position=this._adposition,c.startTime=this._player.currentTime()}else c=null;return c},f.prototype.getAdInfo=function(){var d,b=a.va.plugins.videoplayer.AdInfo,c=new b;return this._provider.isAdPlaying()?(this._adCounter=this._adCounter+1,this._player.ima3&&(this._player.ima3.currentAd?(d=this._player.ima3.currentAd.b?this._player.ima3.currentAd.b:this._player.ima3.currentAd,c.id=d.id||d.adId,c.name=d.title,c.length=d.duration,c.position=d.adPodInfo.adPosition||this._adCounter):(c.id="0",c.name="Ad Break "+this._adCounter,c.length=this._player.ima3.adPlayer.duration(),c.position=this._adCounter))):c=null,c},f.prototype.getChapterInfo=function(){return null},f.prototype.getQoSInfo=function(){var d,b=a.va.plugins.videoplayer.QoSInfo,c=new b,e=0;return"undefined"!=typeof this._player.hls&&"undefined"!==this._player.hls.playlists&&(d=this._player.hls.playlists.media(),-1==this._provider._bitrates.indexOf(d.attributes.BANDWIDTH)&&this._provider._bitrates.push(d.attributes.BANDWIDTH),e=this._provider._calculateBitrateAverage()),c.bitrate=e,c.fps=0,c.droppedFrames=0,c.startupTime=this._provider._settings.QUALITY.TIME_TO_START,c},f.prototype.onError=function(a){b("VideoAnalytics error. Message: "+a.message+". Details: "+a.details+".")},f.prototype.onVideoUnloaded=function(){this._provider.destroy()},window.VideoPlayerDelegate=f}(window.ADB),function(a){"use strict";function c(a){this._player=a;
}a.va.plugins.videoplayer.VideoPlayerPluginDelegate;c.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},c.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},c.prototype.getAdInfo=function(){return this._player.getAdInfo()},c.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},c.prototype.getQoSInfo=function(){return this._player.getQoSInfo()},window.SampleVideoPlayerPluginDelegate=c}(window.ADB),function(a){"use strict";function c(){}a.va.plugins.aa.AdobeAnalyticsPluginDelegate;c.prototype.onError=function(a){console.log("AdobeAnalyticsPlugin error: "+a.getMessage()+" | "+a.getDetails())},window.SampleAdobeAnalyticsPluginDelegate=c}(window.ADB),function(a){"use strict";function c(){}a.va.plugins.ah.AdobeHeartbeatPluginDelegate;c.prototype.onError=function(a){console.log("AdobeHeartbeatPlugin error: "+a.getMessage()+" | "+a.getDetails())},window.SampleAdobeHeartbeatPluginDelegate=c}(window.ADB),function(a){"use strict";function c(){}a.va.HeartbeatDelegate;c.prototype.onError=function(a){console.log("Heartbeat error: "+a.getMessage()+" | "+a.getDetails())},window.SampleHeartbeatDelegate=c}(window.ADB),function(a,b){"use strict";function m(a,c,d,k,m){if(!a)throw new Error("Illegal argument. AppMeasurement reference cannot be null.");if(!c)throw new Error("Illegal argument. Player reference cannot be null.");this._player=c,this._settings=d,this._dataMapping=this._settings.CUSTOM_EVENT,this._hasLoad=!1,this._hasVolumeChange=!1,this._hasInitCustom=!1,this._hasInitSocialClose=!1,this._hasSocialOpen=!1,this._adPlaying=!1,this._tracked0=!1,this._tracked25=!1,this._tracked50=!1,this._tracked75=!1,this._tracked100=!1,this._milestoneTime=0,this._errorTrackCode=null,this._playheadTime=0,this._eventTimer=null,this._videoThatCompleted,this._playerLoadTimer=null,this._timeToStart=0,this._bitrates=[],this._autoplay=k,l=m,this._playerDelegate=new b(this._player,this,l),this._appMeasurement=a,this._playerPlugin=new e(new SampleVideoPlayerPluginDelegate(this._playerDelegate));var n=new f;n.debugLogging=!1,this._playerPlugin.configure(n),this._aaPlugin=new g(a,new SampleAdobeAnalyticsPluginDelegate);var o=new h;o.channel=d.HEARTBEAT.CHANNEL,o.debugLogging=!1,this._aaPlugin.configure(o),this._ahPlugin=new i(new SampleAdobeHeartbeatPluginDelegate);var p=new j(d.HEARTBEAT.TRACKING_SERVER,d.HEARTBEAT.PUBLISHER);p.ovp=d.HEARTBEAT.OVP,p.sdk=d.HEARTBEAT.SDK,p.debugLogging=!1,this._ahPlugin.configure(p),this._installEventListeners()}var l,c=a.va.Heartbeat,d=a.va.HeartbeatConfig,e=a.va.plugins.videoplayer.VideoPlayerPlugin,f=a.va.plugins.videoplayer.VideoPlayerPluginConfig,g=a.va.plugins.aa.AdobeAnalyticsPlugin,h=a.va.plugins.aa.AdobeAnalyticsPluginConfig,i=a.va.plugins.ah.AdobeHeartbeatPlugin,j=a.va.plugins.ah.AdobeHeartbeatPluginConfig;m.prototype.destroy=function(){l("Player debug: Destroy existing analytics set-up"),this._player&&(this._videoHeartbeat=null,this._uninstallEventListeners(),this._uninstallAdEventListeners(),this._hasLoad=!1,this._hasVolumeChange=!1,this._hasSocialOpen=!1,this._adPlaying=!1,this._tracked0=!1,this._tracked25=!1,this._tracked50=!1,this._tracked75=!1,this._tracked100=!1,this._milestoneTime=0,this._errorTrackCode=null,this._playheadTime=0,this._bitrates=[],this._autoplay=!1)},m.prototype._calculateBitrateAverage=function(){var a=0,b=0;for(var c in this._bitrates)a+=this._bitrates[c];return b=Math.round(a/this._bitrates.length)},m.prototype._onLoad=function(){this._videoHeartbeat&&(l("Player event: VIDEO_LOAD"),this._playerPlugin.trackVideoLoad(),this._playerPlugin.trackPlay(),this._errorTrackCode&&(this._playerPlugin.trackVideoPlayerError(this._errorTrackCode),this._playerPlugin.trackVideoUnload(),this._errorTrackCode=null))},m.prototype._onUnload=function(a){this._videoHeartbeat&&(l("Player event: VIDEO_UNLOAD"),this._playerPlugin.trackVideoUnload()),this.destroy()},m.prototype._onPlay=function(){this._videoHeartbeat&&(l("Player event: PLAY"),this._playerPlugin.trackPlay())},m.prototype._onPause=function(a){this._videoHeartbeat&&(l("Player event: PAUSE"),this._playerPlugin.trackPause())},m.prototype._onSeekStart=function(a){l("Player event: SEEK_START"),this._playerPlugin.trackSeekStart()},m.prototype._onSeekComplete=function(a){l("Player event: SEEK_COMPLETE"),this._playerPlugin.trackSeekComplete()},m.prototype._onBufferStart=function(a){l("Player event: BUFFER_START");var b=this;this._hasLoad&&(this._player.one("playing",function(a){l("Player event: BUFFER_COMPLETE"),b._playerPlugin.trackBufferComplete()}),this._playerPlugin.trackBufferStart())},m.prototype._onBitrateChange=function(a){l("Player event: BITRATE_CHANGE"),this._playerPlugin.trackBitrateChange()},m.prototype._onChapterStart=function(a){this._videoHeartbeat&&(l("Player event: CHAPTER_START"),this._playerPlugin.trackChapterStart())},m.prototype._onChapterComplete=function(a){this._videoHeartbeat&&(l("Player event: CHAPTER_COMPLETE"),this._playerPlugin.trackChapterComplete())},m.prototype._onComplete=function(a){this._videoHeartbeat&&(l("Player event: COMPLETE"),this._playerPlugin.trackComplete())},m.prototype._onError=function(a){if(this._videoHeartbeat){l("Player event: ERROR");var c,d,e,f,b="Error Code: ";f=this,this._playerPlugin.trackPause(),setTimeout(function(){c=a.target.innerText.split("\n");for(var g in c)-1!=c[g].indexOf(b)&&(d=c[g].substr(c.indexOf(b)+b.length+1));switch(d){case"PLAYER_ERR_NO_SRC":e=-1;break;case"PLAYER_ERR_TIMEOUT":e=-2;break;case"MEDIA_ERR_ABORTED":e=1;break;case"MEDIA_ERR_NETWORK":e=2;break;case"MEDIA_ERR_DECODE":e=3;break;case"MEDIA_ERR_SRC_NOT_SUPPORTED":e=4;break;case"MEDIA_ERR_ENCRYPTED":e=5;break;case"MEDIA_ERR_UNKNOWN":e="unknown";break;default:e="unknown"}f._hasLoad?(f._playerPlugin.trackVideoPlayerError(e),f._playerPlugin.trackVideoUnload()):f._errorTrackCode=e},1e3)}},m.prototype._onAdStart=function(a){void 0!==this&&this._videoHeartbeat&&(l("Player event: AD_START"),this._playerPlugin.trackAdStart())},m.prototype._onAdError=function(a){this._videoHeartbeat&&(l("Player event: IMA3_AD_ERROR"),this._playerPlugin.trackAdComplete())},m.prototype._onAdComplete=function(a){this._videoHeartbeat&&(l("Player event: AD_COMPLETE"),this._playerPlugin.trackAdComplete())},m.prototype._onAdHbPlay=function(a){this._videoHeartbeat&&(l("Player event: AD HEARTBEAT PLAY"),this._playerPlugin.trackBufferComplete(),this._playerPlugin.trackPlay())},m.prototype._onAdHbTimeUpdate=function(a){this._adPlaying||"ad-playback"!=this._player.ads.state||(l("Player event: AD_START"),this._adPlaying=!0,this._playerPlugin.trackAdStart())},m.prototype._onAdHbPause=function(a){this._videoHeartbeat&&(l("Player event: AD HEARTBEAT PAUSE"),this._playerPlugin.trackPause())},m.prototype._onTrackMilestone=function(a){var b=Math.floor(this._player.currentTime()-this._milestoneTime);if(this._milestoneTime=Math.floor(this._player.currentTime()),void 0!==this._dataMapping.bc_data_mapping&&!this._dataMapping.disable){var c=this._dataMapping.bc_data_mapping.name.split(",");this._appMeasurement.linkTrackVars="events,"+this._dataMapping.bc_data_mapping.contentType+","+this._dataMapping.bc_data_mapping.segment+",contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType";for(var d in c)console.log(c[d]),this._appMeasurement.linkTrackVars+=","+c[d],this._appMeasurement[c[d]]=this._player.mediainfo.name;switch(this._appMeasurement[this._dataMapping.bc_data_mapping.contentType]="video",a){case 0:l("Player event: TrackMilestone 0"),this._appMeasurement.events=this._dataMapping.bc_data_mapping.view,this._appMeasurement.linkTrackEvents=this._dataMapping.bc_data_mapping.view,this._appMeasurement[this._dataMapping.bc_data_mapping.segment]="1:M:0-25";break;case 25:l("Player event: TrackMilestone 25"),this._appMeasurement.events=this._dataMapping.bc_data_mapping.timePlayed+"="+b+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[25],this._appMeasurement.linkTrackEvents=this._dataMapping.bc_data_mapping.timePlayed+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[25],this._appMeasurement[this._dataMapping.bc_data_mapping.segment]="1:M:0-25";break;case 50:l("Player event: TrackMilestone 50"),this._appMeasurement.events=this._dataMapping.bc_data_mapping.timePlayed+"="+b+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[50],this._appMeasurement.linkTrackEvents=this._dataMapping.bc_data_mapping.timePlayed+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[50],this._appMeasurement[this._dataMapping.bc_data_mapping.segment]="2:M:25-50";break;case 75:l("Player event: TrackMilestone 75"),this._appMeasurement.events=this._dataMapping.bc_data_mapping.timePlayed+"="+b+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[75],this._appMeasurement.linkTrackEvents=this._dataMapping.bc_data_mapping.timePlayed+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.milestones[75],this._appMeasurement[this._dataMapping.bc_data_mapping.segment]="3:M:50-75";break;case 100:l("Player event: TrackMilestone 100"),this._appMeasurement.events=this._dataMapping.bc_data_mapping.timePlayed+"="+b+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.complete,this._appMeasurement.linkTrackEvents=this._dataMapping.bc_data_mapping.timePlayed+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.complete,this._appMeasurement[this._dataMapping.bc_data_mapping.segment]="4:M:75-100";break;default:return}this._appMeasurement.tl(!0,"o","bc_milestone")}},m.prototype._onVolumeChange=function(a){if(!this._dataMapping.disable){l("Player event: VOLUME_CHANGE");var b=this._player.muted();this._appMeasurement.events=this._dataMapping.bc_volumechange.event,b?this._appMeasurement[this._dataMapping.bc_volumechange.evar]="0.00":this._appMeasurement[this._dataMapping.bc_volumechange.evar]=this._player.volume().toFixed(2),this._appMeasurement.linkTrackVars="events,"+this._dataMapping.bc_volumechange.evar+",contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_volumechange.event,this._appMeasurement.tl(!0,"bc","bc_volumechange")}},m.prototype._onAdPause=function(a){this._dataMapping.disable||(l("Player event: AD_PAUSE"),this._appMeasurement.events=this._dataMapping.bc_ad_pause.event,this._adplayer&&this._adplayer.adPlayer.currentTime?this._appMeasurement[this._dataMapping.bc_ad_pause.evar]=this._adplayer.adPlayer.currentTime():this._appMeasurement[this._dataMapping.bc_ad_pause.evar]=0,this._appMeasurement.linkTrackVars="events,"+this._dataMapping.bc_ad_pause.evar+",contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType,contextData.a.media.ad.friendlyName,contextData.a.media.ad.podFriendlyName,contextData.a.media.ad.length,contextData.a.media.ad.podPosition",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_ad_pause.event,this._appMeasurement.tl(!0,"bc","bc_ad_pause"))},m.prototype._onAdResumed=function(a){this._dataMapping.disable||(l("Player event: AD_RESUMED"),this._appMeasurement.events=this._dataMapping.bc_ad_resumed.event,this._appMeasurement.linkTrackVars="events,"+this._dataMapping.bc_ad_pause.evar+",contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType,contextData.a.media.ad.friendlyName,contextData.a.media.ad.podFriendlyName,contextData.a.media.ad.length,contextData.a.media.ad.podPosition",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_ad_resumed.event,this._appMeasurement.tl(!0,"o","bc_ad_resumed"))},m.prototype._onAdClick=function(a){if(!this._dataMapping.disable){l("Player event: AD_CLICK");var b=this._dataMapping.bc_ad_click.evar.split(",");this._appMeasurement.events=this._dataMapping.bc_ad_click.event,this._adplayer&&this._adplayer.adPlayer.currentTime?this._appMeasurement[b[0]]=this._adplayer.adPlayer.currentTime():this._appMeasurement[b[0]]=0,this._appMeasurement[b[1]]=this._adplayer.currentAd.getClickThroughUrl(),this._appMeasurement.linkTrackVars="events,"+this._dataMapping.bc_ad_click.evar+",contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType,contextData.a.media.ad.friendlyName,contextData.a.media.ad.podFriendlyName,contextData.a.media.ad.length,contextData.a.media.ad.podPosition",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_ad_click.event,this._appMeasurement.tl(!0,"o","bc_ad_click")}},m.prototype._onFullscreenEnter=function(a){this._dataMapping.disable||(l("Player event: FULLSCREEN_ENTER"),this._appMeasurement.events=this._dataMapping.bc_fullscreen_enter.event,this._appMeasurement.linkTrackVars="events,contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_fullscreen_enter.event,this._appMeasurement.tl(!0,"o","bc_fullscreen_enter"))},m.prototype._onFullscreenExit=function(a){this._dataMapping.disable||(l("Player event: FULLSCREEN_EXIT"),this._appMeasurement.events=this._dataMapping.bc_fullscreen_exit.event,this._appMeasurement.linkTrackVars="events,contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_fullscreen_exit.event,this._appMeasurement.tl(!0,"o","bc_fullscreen_exit"))},m.prototype._onSocialOpened=function(a){this._dataMapping.disable||(l("Player event: SOCIAL_OPENED"),this._appMeasurement.events=this._dataMapping.bc_social_opened.event,this._appMeasurement.linkTrackVars="events,contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_social_opened.event,this._appMeasurement.tl(!0,"o","bc_social_opened"))},m.prototype._onSocialClosed=function(a){this._dataMapping.disable||(l("Player event: SOCIAL_CLOSED"),this._appMeasurement.events=this._dataMapping.bc_social_closed.event,this._appMeasurement.linkTrackVars="events,contextData.a.media.name,contextData.a.media.playerName,contextData.a.media.channel,contextData.a.contentType",this._appMeasurement.linkTrackEvents=this._dataMapping.bc_social_closed.event,this._appMeasurement.tl(!0,"o","bc_social_closed"))},m.prototype.isAdPlaying=function(){return this._adPlaying},m.prototype.playheadTime=function(){return this._playheadTime},m.prototype.resetTrackValue=function(){this._appMeasurement.events="",this._appMeasurement.linkTrackVars="",this._appMeasurement.linkTrackEvents="",this._appMeasurement.clearVars()},m.prototype._setupAutoTracking=function(){this._appMeasurement.loadModule("Media"),this._appMeasurement.Media.autoTrack=!0,this._appMeasurement.Media.trackVars="events,"+this._dataMapping.bc_data_mapping.contentType+","+this._dataMapping.bc_data_mapping.name+","+this._dataMapping.bc_data_mapping.segment,this._appMeasurement.Media.trackEvents=this._dataMapping.bc_data_mapping.view+","+this._dataMapping.bc_data_mapping.segmentView+","+this._dataMapping.bc_data_mapping.timePlayed+","+this._dataMapping.bc_data_mapping.milestones[25]+","+this._dataMapping.bc_data_mapping.milestones[50]+","+this._dataMapping.bc_data_mapping.milestones[75]+","+this._dataMapping.bc_data_mapping.complete,this._appMeasurement.Media.trackMilestones="25,50,75",this._appMeasurement.Media.playerName=this._settings.PLAYER.NAME,this._appMeasurement.Media.segmentByMilestones=!0,this._appMeasurement.Media.trackUsingContextData=!0,this._appMeasurement.Media.contextDataMapping={"a.media.name":this._dataMapping.bc_data_mapping.name,"a.media.segment":this._dataMapping.bc_data_mapping.segment,"a.contentType":this._dataMapping.bc_data_mapping.contentType,"a.media.timePlayed":this._dataMapping.bc_data_mapping.timePlayed,"a.media.view":this._dataMapping.bc_data_mapping.view,"a.media.segmentView":this._dataMapping.bc_data_mapping.segmentView,"a.media.complete":this._dataMapping.bc_data_mapping.complete,"a.media.milestones":this._dataMapping.bc_data_mapping.milestones}},m.prototype._setupVideoHeartbeat=function(){if(l("Player debug: _setupVideoHeartbeat()"),!this._settings.HEARTBEAT.DISABLE){var a=new d(this._settings.HEARTBEAT.TRACKING_SERVER,this._settings.HEARTBEAT.JOB_ID,this._settings.HEARTBEAT.PUBLISHER);a.ovp=this._settings.HEARTBEAT.OVP,a.sdk=this._settings.HEARTBEAT.SDK,a.channel=this._settings.HEARTBEAT.CHANNEL,a.debugLogging=this._settings.HEARTBEAT.DEBUG_LOGGING,this._videoHeartbeat=new c(new SampleHeartbeatDelegate,[this._playerPlugin,this._aaPlugin,this._ahPlugin]),this._videoHeartbeat.configure(a)}},m.prototype._initFirstLoad=function(){l("Player Debug: Ready to Set-up Analytics Sessions"),this._setupVideoHeartbeat(),this._onLoad()},m.prototype._playHandler=function(a){var b=this;this._hasLoad||0!=this._player.currentTime()||(l("Player Debug: Replay existing video"),this._hasLoad=!0,this._eventTimer=setTimeout(function(){l("Player Debug: Set-up Analytics"),b._playerLoadTimer&&b._videoThatCompleted!=b._player.mediainfo.id&&(clearInterval(b._playerLoadTimer),b._settings.QUALITY.TIME_TO_START=b._timeToStart,b._playerLoadTimer=null),b._initFirstLoad()},1e3)),!this._adPlaying&&this._hasLoad&&(l("Player Debug: Resuming Analytics from Pause Event"),this._onPlay())},m.prototype._installEventListeners=function(){var a=this;l("Player Debug: Install Event Listeners"),this._player.on("play",this._playHandler.bind(this)),this._autoplay&&this._playHandler(),this._player.on("pause",function(b){a._adPlaying||a._onPause(b)}),this._player.on("ended",function(b){a._timeToStart=0,a._videoThatCompleted=a._player.mediainfo.id,a._playerLoadTimer=setInterval(function(){a._timeToStart++},1e3),a._adPlaying||(a._tracked100||(a._tracked100=!0,a._onTrackMilestone(100)),a._onComplete(b),a._onUnload(b))}),this._player.on("seeking",function(b){a._hasLoad&&a._onSeekStart(b)}),this._player.on("seeked",function(b){a._hasLoad&&a._onSeekComplete(b)}),this._player.on("volumechange",function(b){a._hasVolumeChange=!0}),this._player.on("error",function(b){a._onError(b)}),this._player.on("adsready",function(b){l("Player event: adsready"),a._initAdManager(b)}),"undefined"!=typeof this._player.ima3&&this._player.ima3.adPlayer.on("timeupdate",function(b){a._onAdHbTimeUpdate()}),this._player.on("adend",function(b){l("Player event: adend"),a._adPlaying=!1,a._onAdComplete(b),a._uninstallAdEventListeners()}),this._player.on("fullscreenchange",function(b){a._player.isFullScreen()?a._onFullscreenEnter(b):a._onFullscreenExit(b)}),this._player.on("waiting",function(b){a._hasLoad&&a._onBufferStart(b)}),this._player.on("ratechange",function(b){a._onBitrateChange(b)}),this._player.on("timeupdate",function(b){if(!a._adPlaying){a._playheadTime=a._player.currentTime();var c=a._player.duration();!c&&a._player.mediainfo&&(c=a._player.mediainfo.duration),!a._tracked0&&a._playheadTime>0&&(a._tracked0=!0,a._onTrackMilestone(0)),!a._tracked25&&a._playheadTime>25*c/100&&(a._tracked25=!0,a._onTrackMilestone(25)),!a._tracked50&&a._playheadTime>50*c/100&&(a._tracked50=!0,a._onTrackMilestone(50)),!a._tracked75&&a._playheadTime>75*c/100&&(a._tracked75=!0,a._onTrackMilestone(75))}}),this._hasInitCustom||this._dataMapping.disable||(this._initSocial(),this._initVolumeEvent(),this._hasInitCustom=!0)},m.prototype._uninstallEventListeners=function(){l("Player Debug: Uninstall Event Listeners"),this._player.off("play",this._playHandler.bind(this)),this._player.off("pause",function(a){}),this._player.off("ended",function(a){}),this._player.off("seeking",function(a){}),this._player.off("seeked",function(a){}),this._player.off("volumechange",function(a){}),this._player.off("error",function(a){}),this._player.off("adsready",function(a){}),this._player.off("adstart",function(a){}),this._player.off("adend",function(a){}),this._player.off("fullscreenchange",function(a){}),this._player.off("waiting",function(a){}),this._player.off("ratechange",function(a){}),this._player.off("timeupdate",function(a){})},m.prototype._initAdManager=function(a){this._player&&this._player.ima3&&(this._adplayer=this._player.ima3,this._installAdEventListeners())},m.prototype._installAdEventListeners=function(){var a=this;this._adplayer.adsManager&&"undefined"!=typeof this._player.ima3&&(this._player.ima3.adPlayer.on("play",function(b){a._onAdHbPlay(b)}),this._player.ima3.adPlayer.on("pause",function(b){a._onAdHbPause(b),a._onAdPause(b)}),this._player.on("ima3error",function(b){l("Player event: IMA3 Ad Error"),a._adPlaying=!1,a._onAdError(b),a._uninstallAdEventListeners()}),this._player.on("ima3-ad-error",function(b){l("Player event: IMA3 Ad Error"),a._adPlaying=!1,a._onAdError(b),a._uninstallAdEventListeners()}),this._player.on("ima3-ad-error",function(b){a._adPlaying=!1,a._uninstallAdEventListeners()}))},m.prototype._uninstallAdEventListeners=function(){"undefined"!=typeof this._player.ima3&&(this._player.ima3.adPlayer.off("play",function(a){}),this._player.ima3.adPlayer.off("pause",function(a){}),this._player.off("ima3error",function(a){}),this._player.off("ima3-ad-error",function(a){}))},m.prototype._initVolumeEvent=function(){var a=this;this._player.controlBar.volumeMenuButton&&(this._volumeMenuButton=this._player.controlBar.volumeMenuButton,this._volumeMenuButton.on("click",function(b){a._checkVolumeChange()}),this._volumeMenuButton.on("touchend",function(b){a._checkVolumeChange()})),document.addEventListener?document.addEventListener("click",function(b){a._checkVolumeChange()}):document.on?document.on("click",function(b){a._checkVolumeChange()}):document.attachEvent&&document.attachEvent("onclick",function(b){a._checkVolumeChange()}),document.addEventListener?document.addEventListener("mouseup",function(b){a._checkVolumeChange()}):document.on?document.on("mouseup",function(b){a._checkVolumeChange()}):document.attachEvent&&document.attachEvent("onmouseup",function(b){a._checkVolumeChange()}),document.addEventListener?document.addEventListener("touchend",function(b){a._hasVolumeChange&&(a._hasVolumeChange=!1,a._onVolumeChange(b))}):document.on?document.on("touchend",function(b){a._hasVolumeChange&&(a._hasVolumeChange=!1,a._onVolumeChange(b))}):document.attachEvent&&document.attachEvent("ontouchend",function(b){a._hasVolumeChange&&(a._hasVolumeChange=!1,a._onVolumeChange(b))})},m.prototype._initSocial=function(){var a=this;this._player.controlBar.socialButton&&(this._socialButton=this._player.controlBar.socialButton,this._socialButton.on("click",function(b){a._onSocialOpened(b),a._hasSocialOpen=!0,a._hasInitSocialClose||(a._initSocialClose(),a._hasInitSocialClose=!0)}),this._socialButton.on("touchend",function(b){a._onSocialOpened(b),a._hasSocialOpen=!0,a._hasInitSocialClose||(a._initSocialClose(),a._hasInitSocialClose=!0)}))},m.prototype._initSocialClose=function(){var a=this;this._player.socialOverlay&&this._player.socialOverlay.closeButton&&(this._socialCloseButton=this._player.socialOverlay.closeButton,this._socialCloseButton.addEventListener?this._socialCloseButton.addEventListener("click",function(b){a._checkSocialClose(b)}):this._socialCloseButton.on?this._socialCloseButton.on("click",function(b){a._checkSocialClose(b)}):this._socialCloseButton.attachEvent&&this._socialCloseButton.attachEvent("onclick",function(b){a._checkSocialClose(b)})),document.onkeydown=function(b){b||(b=event),27==b.keyCode&&a._checkSocialClose(b)}},m.prototype._checkSocialClose=function(a){var b=this;this._hasSocialOpen&&setTimeout(function(){null===b._player.socialOverlay.el_.offsetParent&&(b._onSocialClosed(a),b._hasSocialOpen=!1)},500)},m.prototype._checkVolumeChange=function(a){var b=this;setTimeout(function(){b._hasVolumeChange&&(b._hasVolumeChange=!1,b._onVolumeChange(a))},500)},window.VideoAnalyticsProvider=m}(window.ADB,window.VideoPlayerDelegate),function(a,b,c,d){"use strict";var e=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},f={disable:!1,bc_data_mapping:{name:"eVar202,prop2",segment:"eVar203",contentType:"eVar201",timePlayed:"event203",view:"event201",segmentView:"event202",complete:"event207",milestones:{25:"event204",50:"event205",75:"event206"}},bc_volumechange:{event:"event208",evar:"eVar204"},bc_ad_pause:{event:"event209",evar:"eVar205"},bc_ad_resumed:{event:"event210",evar:"eVar205"},bc_ad_click:{event:"event211",evar:"eVar206,eVar207"},bc_fullscreen_enter:{event:"event212",evar:""},bc_fullscreen_exit:{event:"event213",evar:""},bc_social_opened:{event:"event214",evar:""},bc_social_closed:{event:"event215",evar:""}},g={PLAYER:{NAME:"Brightcove Player"},VISITOR_API:{MARKETING_CLOUD_ORG_ID:"2B8D246452DD9FBF0A490D45",NAMESPACE:"democorp",TRACKING_SERVER:"democorp.dc1.sc.omtrdc.net"},APP_MEASUREMENT:{RSID:"democorpscdocdev",TRACKING_SERVER:"democorp.dc1.sc.omtrdc.net"},HEARTBEAT:{DISABLE:!1,TRACKING_SERVER:"http://heartbeats.omtrdc.net",JOB_ID:"sc_va",PUBLISHER:"",CHANNEL:"Brightcove-channel",OVP:"Brightcove-ovp",SDK:"Brightcove-sdk",DEBUG_LOGGING:!1},CUSTOM_EVENT:f},h=function(a,b,c){var d=this,f=e({},g,a||{}),h=new Visitor(f.VISITOR_API.MARKETING_CLOUD_ORG_ID,f.VISITOR_API.NAMESPACE);h.trackingServer=f.VISITOR_API.TRACKING_SERVER;var i=new AppMeasurement;i.visitor=h,i.visitorNamespace=f.VISITOR_API.NAMESPACE,i.trackingServer=f.APP_MEASUREMENT.TRACKING_SERVER,i.account=f.APP_MEASUREMENT.RSID;var j=new VideoAnalyticsProvider(i,d,f,b,c),k=function(a){j._settings=a};return{setConfigSettings:k}};c.plugin("omniturePlugin",h)}(window,document,videojs);
